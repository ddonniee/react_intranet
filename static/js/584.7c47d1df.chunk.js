"use strict";(self.webpackChunkasc_portal=self.webpackChunkasc_portal||[]).push([[584],{9957:function(e,t,n){n.d(t,{Z:function(){return s}});var o,a=n(168),c=(n(2791),n.p+"static/media/Spin-1s-200px.3602f97a167e27c619b1.gif"),l=n(9256),i=n(184),s=function(){return(0,i.jsx)(r,{children:(0,i.jsx)("div",{className:"loading-wrapper custom-align-item custom-flex-item custom-justify-center",children:(0,i.jsx)("img",{src:c,alt:"loading"})})})},r=l.zo.div(o||(o=(0,a.Z)(["\n    .loading-wrapper {\n        height : 100%;\n        img {\n            width : 30px; height : 30px;\n        }\n    }\n"])))},904:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var o=n(168),a=n(1413),c=n(9439),l=n(2791),i=n(9256),s=n(3880),r=n(3637),u=n(9957),d=n(8772),m=(n(7162),n(6342));var f=n.p+"static/media/icon_editor_frame.0c13b1063d50964be184607164db1b21.svg",h=n(8967),x=n(6584),g=n(2443),v=n.n(g),p=n(4442),j=n(3433),y=(n(9173),n(5013)),T=n(1790);var C,N=n.p+"static/media/icon_arrow.fbc2dd5c6dbcce5fc187354c6917be55.svg",b=n(184);var _,Z=function(e){var t=e.data,n=e.setData,o=e.onSave,i=e.onClose,s=e.isDelete,r=e.onDelete,u=(e.onAttach,(0,l.useState)(t)),d=(0,c.Z)(u,2),m=d[0],f=d[1],g=(0,l.useState)([{fileName:"",filePath:""}]),T=(0,c.Z)(g,2),C=T[0],N=T[1],_=(0,l.useState)(!1),Z=(0,c.Z)(_,2),E=Z[0],S=Z[1],I=(0,l.useState)({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""}),P=(0,c.Z)(I,2),R=P[0],A=P[1],D=function(e,t){console.log("########## updateFile ###########",e,t);var n=(0,j.Z)(C),o=n[e];o.fileName=t.fileName,o.uploadPath=t.uploadPath,f((0,a.Z)((0,a.Z)({},m),{},{attachments:JSON.stringify(n)}))};return(0,l.useEffect)((function(){E||A((0,a.Z)((0,a.Z)({},R),{},{alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""}))}),[E]),(0,l.useEffect)((function(){""!==R.alertTxt&&S(!0)}),[R]),(0,b.jsxs)("div",{className:"editor-container custom-editor",children:[(0,b.jsxs)("div",{className:"write-row",children:[(0,b.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,b.jsx)("p",{children:"\xb7 Detail"})," "]}),(0,b.jsx)("div",{className:"right",children:(0,b.jsx)(x.CKEditor,{editor:v(),data:t.content,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,o){var c=o.getData();encodeURIComponent(c);console.log(c),n((0,a.Z)((0,a.Z)({},t),{},{content:c}))},onBlur:function(e,t){},onFocus:function(e,t){console.log("Focus.",t)}})})]}),(0,b.jsxs)("div",{className:"write-row",children:[(0,b.jsxs)("div",{className:"left custom-flex-item custom-align-item custom-justify-between",children:[" ",(0,b.jsx)("p",{className:"custom-flex-item custom-justify-center custom-align-item",children:"\xb7 Attachments"}),(0,b.jsx)("label",{htmlFor:"add-row",children:(0,b.jsx)("img",{src:h.Z})}),(0,b.jsx)("button",{onClick:function(){return function(){if(C.length<5){var e=[].concat((0,j.Z)(C),[{fileName:"",filePath:""}]);N(e)}else A((0,a.Z)((0,a.Z)({},R),{},{alertTxt:"Up to 5 file attachments are allowed."}))}()},name:"attachments",style:{display:"none"},id:"add-row"})]}),(0,b.jsxs)("div",{className:"right file-upload",children:[null===C||void 0===C?void 0:C.map((function(e,t){return(0,b.jsxs)("div",{className:"custom-flex-item custom-align-item",children:[(0,b.jsx)("input",{type:"text",className:"write-input attach-input",name:"filename",readOnly:!0,defaultValue:e.fileName}),(0,b.jsx)("label",{className:"custom-flex-item custom-justify-center custom-align-item custom-stress-txt",htmlFor:""===C[t].fileName?"file-select-btn-".concat(t):"file-reset-btn-".concat(t),children:""===C[t].fileName?"Select":"Delete"}),(0,b.jsx)("input",{type:"file",className:"file-select-btn",style:{display:"none"},id:"file-select-btn-".concat(t),onChange:function(e){var n,o=null===(n=e.target)||void 0===n?void 0:n.files[0];if(o.size>20971520)return A((0,a.Z)((0,a.Z)({},R),{},{alertTxt:"Only files of 20MB or less can be attached."})),!1;if(!["application/pdf","application/x-hwp","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.presentation"].includes(o.type))return A((0,a.Z)((0,a.Z)({},R),{},{alertTxt:"Attached files can only be in PDF, HWP, Docx, xls, and PPT formats."})),!1;var c=new FormData;c.append("uploadFiles",o),c.append("directoryType","notice"),D(t,o),y.be.post("/fileUpload",c).then((function(e){var n=e.data;500==n.code?A((0,a.Z)((0,a.Z)({},R),{},{alertTxt:n.msg})):D(t,n.result[0])})).catch((function(e){A((0,a.Z)((0,a.Z)({},R),{},{alertTxt:"Fail to attach file."})),console.log(e)}))}}),(0,b.jsx)("button",{id:"file-reset-btn-".concat(t," "),style:{display:"none"},onClick:function(){return function(e){N((function(t){var n=(0,j.Z)(t);return n[e]={fileName:"",filePath:""},n}))}(t)}}),(0,b.jsx)("button",{id:"file-delete-btn-".concat(t),style:{display:"none"},onClick:function(){return function(e){C.length>1?N((function(t){var n=(0,j.Z)(t);return n.splice(e,1),n})):A((0,a.Z)((0,a.Z)({},R),{},{alertTxt:"At least one attachment is required."}))}(t)}}),(0,b.jsx)("label",{className:"custom-flex-item custom-justify-center custom-align-item custom-stress-txt",htmlFor:"file-delete-btn-".concat(t),children:"Delete"})]},(0,y.zs)(t))})),(0,b.jsx)("p",{className:"attach-desc",children:"Attached files can only be in PDF, HWP, Docx, xls, and PPT formats (Support up to 100MB)"})]})]}),(0,b.jsxs)("div",{className:"btn-row",children:[s&&(0,b.jsx)("button",{className:"delete-btn",onClick:r,style:{marginRight:"auto"},children:"Delete"}),(0,b.jsx)("button",{className:"btn-black",onClick:i,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn-red",onClick:o,children:"Save"})]}),E&&(0,b.jsx)(p.Z,{alertTxt:R.alertTxt,onClose:function(){return S(!1)},onConfirm:R.onConfirm,twoBtn:R.isDoubleBtn,btnTxt:R.btnTxt})]})};i.zo.div(C||(C=(0,o.Z)(["\n    #list-item-"," {\n        background : #FAF1F4; color : #BB0841; \n    }\n    .faq-left {\n        width: ",";\n    }\n    \n"])),(function(e){return e.selectId}),(function(e){return e.openRight?"49%":"100%"}));var E,S=function(e){e.data;var t=e.setData,n=e.onSave,o=e.onClose,i=(e.onAttach,{method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3000",REACT_APP_SERVER_URL:"http://localhost:8090"}.REACT_APP_TEMP_JWT_LGEKR}}),s=(0,l.useState)([]),r=(0,c.Z)(s,2),u=r[0],d=r[1],h=(0,l.useState)([]),x=(0,c.Z)(h,2),g=x[0],v=x[1],j=(0,l.useState)({title:"",content:"",faqTopId:"",attachments:null,categoryId:"",subCategoryId:""}),C=(0,c.Z)(j,2),N=C[0],_=C[1],E=(0,l.useState)([{fileName:"",filePath:""}]),S=(0,c.Z)(E,2),I=(S[0],S[1],(0,l.useState)(!1)),P=(0,c.Z)(I,2),R=P[0],A=P[1],D=(0,l.useState)({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:"",onClose:function(){return A(!1)}}),w=(0,c.Z)(D,2),O=w[0],F=w[1];return(0,l.useEffect)((function(){console.log("getCAegrogffgosd"),(0,y.be)("/faqCa/list",i).then((function(e){var t=e.data;if(200===t.code){var n=t.result;console.log("getCategory",t);var o,a=[];o=n.map((function(e){return{value:e.categoryId,label:e.categoryNm}})),n.forEach((function(e){0!==e.subCategory.length&&e.subCategory.map((function(e){a.push({value:e.categoryId,label:e.categoryNm})}))})),d(o),v(a)}else console.log(t)})).catch((function(e){console.log("error",e)}))}),[]),(0,l.useEffect)((function(){t(N),console.log(N,"===============")}),[N]),(0,l.useEffect)((function(){console.log(u),console.log(g)}),[u,g]),(0,l.useEffect)((function(){R||F((0,a.Z)((0,a.Z)({},O),{},{alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""}))}),[R]),(0,l.useEffect)((function(){""!==O.alertTxt&&A(!0)}),[O]),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"faq-setting-new ",children:[(0,b.jsxs)("div",{className:"content-top custom-flex-item custom-align-item",children:[(0,b.jsx)("img",{src:f}),(0,b.jsx)("span",{children:"New FAQ"}),(0,b.jsxs)("div",{onClick:o,children:[(0,b.jsx)("img",{src:m.Z,alt:"close_btn"})," "]})]}),(0,b.jsx)("div",{className:"content-middle",children:(0,b.jsxs)("div",{className:"editor-container",children:[(0,b.jsxs)("div",{className:"write-row",children:[(0,b.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,b.jsx)("p",{children:"\xb7 Top 5 Setting"})," "]}),(0,b.jsx)("div",{className:"right",children:(0,b.jsx)(T.Z,{options:[{value:"TOP1",label:"TOP1"},{value:"TOP2",label:"TOP2"},{value:"TOP3",label:"TOP3"},{value:"TOP4",label:"TOP4"},{value:"TOP5",label:"TOP5"}],handleChange:function(e){return _((0,a.Z)((0,a.Z)({},N),{},{faqTopId:e.value}))},placeholder:"Select"})})]}),(0,b.jsxs)("div",{className:"write-row",children:[(0,b.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,b.jsx)("p",{children:"\xb7 Category"})," "]}),(0,b.jsxs)("div",{className:"right custom-flex-item custom-align-item",children:[(0,b.jsx)(T.Z,{options:u,placeholder:"Select",handleChange:function(e){return _((0,a.Z)((0,a.Z)({},N),{},{categoryId:e.value}))}}),(0,b.jsx)(T.Z,{options:g,placeholder:"Select",handleChange:function(e){return _((0,a.Z)((0,a.Z)({},N),{},{subCategoryId:e.value}))}})]})]}),(0,b.jsxs)("div",{className:"write-row",children:[(0,b.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,b.jsx)("p",{children:"\xb7 Subject"})," "]}),(0,b.jsx)("div",{className:"right",children:(0,b.jsx)("input",{type:"text",className:"write-input",name:"subject",value:N.title,onChange:function(e){!function(e){var t=e.target.value;t.length<=100?_((0,a.Z)((0,a.Z)({},N),{},{title:t})):F((0,a.Z)((0,a.Z)({},O),{},{alertTxt:"Up to 100 characters are allowed."}))}(e)},onBlur:function(){}})})]}),(0,b.jsx)(Z,{data:N,setData:_,onSave:n,onClose:o})]})}),R&&(0,b.jsx)(p.Z,{alertTxt:O.alertTxt,btnTxt:O.btnTxt,onClose:O.onClose})]})})};i.zo.div(_||(_=(0,o.Z)(["\n    #list-item-"," {\n        background : #FAF1F4; color : #BB0841; \n    }\n    .faq-left {\n        width: ",";\n    }\n    \n"])),(function(e){return e.selectId}),(function(e){return e.openRight?"49%":"100%"}));var I=function(e){e.item;var t=e.parentCategory,n=e.data,o=e.setData,i=(e.onSave,e.onClose),s=e.isLower;console.log("parent category : ",t);var r=(0,l.useState)(n),u=(0,c.Z)(r,2),d=u[0],h=(u[1],(0,l.useState)([{fileName:"",filePath:""}])),x=(0,c.Z)(h,2);x[0],x[1],console.log(s,"----------------------------------------------");var g=(0,l.useState)(!1),v=(0,c.Z)(g,2),j=v[0],T=v[1],C=(0,l.useState)(!1),N=(0,c.Z)(C,2),_=N[0],Z=N[1],E=(0,l.useState)({categoryNm:"",categoryIcon:"",parentCategoryId:"",categoryIconPath:"",categoryIconFileNM:"",categoryIconId:""}),S=(0,c.Z)(E,2),I=S[0],P=S[1],R=(0,l.useState)(!1),A=(0,c.Z)(R,2),D=A[0],w=A[1],O=(0,l.useState)({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:"",onClose:function(){return w(!1)}}),F=(0,c.Z)(O,2),L=F[0],B=F[1],q=function(){P((0,a.Z)((0,a.Z)({},I),{},{categoryIcon:"",categoryIconFileNM:"",categoryIconPath:""}))};(0,l.useEffect)((function(){T(!1)}),[I]),(0,l.useEffect)((function(){P((0,a.Z)((0,a.Z)({},I),{},{parentCategoryId:t.categoryId}))}),[]),(0,l.useEffect)((function(){D||B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:"",onClose:function(){return w(!1)}}))}),[D]),(0,l.useEffect)((function(){""!==L.alertTxt&&w(!0)}),[L]);var k=function(e){var t=(0,l.useRef)(null),n=e.onCloseIcon,o=(0,l.useState)([]),i=(0,c.Z)(o,2),s=i[0],r=i[1],u=function(e){t.current&&!t.current.contains(e.target)&&n()};return(0,l.useEffect)((function(){!function(){var e={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3000",REACT_APP_SERVER_URL:"http://localhost:8090"}.REACT_APP_TEMP_JWT_LGEKR}};(0,y.be)("/faqCa/iconList",e).then((function(e){var t=e.data;if(200===t.code){var n=t.result;r(n)}else console.log(t)})).catch((function(e){console.log("error",e)}))}()}),[]),(0,l.useEffect)((function(){return document.addEventListener("mousedown",u),function(){document.removeEventListener("mousedown",u)}}),[]),(0,b.jsxs)("div",{className:"popup",ref:t,children:[(0,b.jsxs)("div",{className:"popup-top custom-flex-item custom-justify-between",children:[(0,b.jsx)("p",{children:"Icon select"}),(0,b.jsx)("img",{src:m.Z,alt:"close-btn",onClick:n})]}),(0,b.jsx)("ul",{className:"custom-flex-item select-icon",children:null===s||void 0===s?void 0:s.map((function(e,t){return(0,b.jsx)("li",{onClick:function(){return function(e){P((0,a.Z)((0,a.Z)({},I),{},{categoryIcon:e.categoryIconId,categoryIconFileNM:e.categoryIconFileNM,categoryIconPath:e.categoryIconPath}))}(e)},children:(0,b.jsx)("img",{src:{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3000",REACT_APP_SERVER_URL:"http://localhost:8090"}.REACT_APP_DOWN_URL+"/"+e.categoryIconPath,alt:"category-icons"})},(0,y.zs)(t))}))})]})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"faq-setting-new custom-flex-item",children:[(0,b.jsxs)("div",{className:"content-top custom-flex-item custom-align-item",children:[(0,b.jsx)("img",{src:f}),(0,b.jsx)("span",{children:"Add New Category"}),(0,b.jsxs)("div",{onClick:i,children:[(0,b.jsx)("img",{src:m.Z,alt:"close_btn"})," "]})]}),(0,b.jsxs)("div",{className:"content-middle setting-middle",children:[s&&""!==t.categoryNm&&(0,b.jsxs)("div",{className:"write-row custom-flex-item",children:[(0,b.jsxs)("div",{className:"left",children:[" ",(0,b.jsx)("p",{children:"\xb7 Parent categoryName"})," "]}),(0,b.jsx)("div",{className:"right",children:(0,b.jsx)("input",{type:"text",className:"category-subject custom-invalid-input",name:"category",value:t.categoryNm,readOnly:!0})})]}),(0,b.jsxs)("div",{className:"write-row custom-flex-item",children:[(0,b.jsxs)("div",{className:"left",children:[" ",(0,b.jsx)("p",{children:"\xb7 Category Name"})," "]}),(0,b.jsx)("div",{className:"right",children:(0,b.jsx)("input",{type:"text",className:"category-subject",name:"subject",value:I.categoryNm,onChange:function(e){!function(e){var t=e.target.value;t.length<=100?P((0,a.Z)((0,a.Z)({},I),{},{categoryNm:t})):B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"Up to 100 characters are allowed."}))}(e)},onBlur:function(){o(d)}})})]}),!s&&(0,b.jsxs)("div",{className:"write-row custom-flex-item",children:[(0,b.jsxs)("div",{className:"left",children:[" ",(0,b.jsx)("p",{children:"\xb7 Icon"})," "]}),(0,b.jsxs)("div",{className:"right file-upload custom-flex-item",children:[(0,b.jsx)("div",{className:"icon-wrapper custom-flex-item custom-justify-center",children:""!==I.categoryIconPath?(0,b.jsx)("img",{src:{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3000",REACT_APP_SERVER_URL:"http://localhost:8090"}.REACT_APP_DOWN_URL+"/"+I.categoryIconPath,alt:"icon_img"}):null}),(0,b.jsxs)("div",{className:"custom-flex-item custom-self-align",children:[(0,b.jsx)("button",{id:"file-add-icon",style:{display:"none"},onClick:function(){return""===I.categoryIcon?T(!0):q()}}),(0,b.jsx)("label",{className:"custom-flex-item custom-justify-center custom-align-item custom-stress-txt",htmlFor:"file-add-icon",children:"".concat(""===I.categoryIcon?"Select":"Delete")}),(0,b.jsx)("button",{id:"file-upload-icon",style:{display:"none"},onClick:function(){return Z(!_)}}),(0,b.jsx)("label",{className:"custom-flex-item custom-justify-center custom-align-item custom-white-btn",htmlFor:"file-upload-icon",children:"+ Add"}),j&&(0,b.jsx)(k,{onCloseIcon:function(){return T(!1)}})]})]})]}),_&&(0,b.jsxs)("div",{className:"write-row custom-flex-item",children:[(0,b.jsx)("div",{className:"left",children:(0,b.jsx)("p",{children:"\xb7 Add Icon"})}),(0,b.jsxs)("div",{className:"right custom-flex-item",children:[(0,b.jsx)("input",{className:"category-subject custom-invalid-input",defaultValue:I.categoryIconFileNM,readOnly:!0}),(0,b.jsx)("input",{type:"file",className:"file-select-btn",style:{display:"none"},id:"file-select-btn",onChange:function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.files[0];if(n.size>20971520)return B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"Only files of 20MB or less can be attached."})),!1;if(!["image/svg+xml","image/png","image/jpeg"].includes(n.type))return B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"Attached files can only be in SVG, JPEG and PNG formats."})),!1;var o=new FormData;o.append("uploadFile",n);var c={maxBodyLength:1/0,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3000",REACT_APP_SERVER_URL:"http://localhost:8090"}.REACT_APP_TEMP_JWT_SUBSIDIARY_ADMIN}};y.be.post("faqCa/iconUpload",o,c).then((function(e){var t=e.data;200===t.code?P((0,a.Z)((0,a.Z)({},I),{},{categoryIconFileNM:n.name,categoryIcon:t.result.categoryIconId})):(console.log(t),B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:t.msg})))})).catch((function(e){B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"Fail to upload file."})),console.log(e)}))}}),(0,b.jsx)("input",{type:"button",id:"file-delete-btn",onClick:function(){return q()},style:{display:"none"}}),(0,b.jsxs)("label",{className:"custom-flex-item custom-justify-center custom-align-item custom-stress-txt",htmlFor:""===I.categoryIconFileNM?"file-select-btn":"file-delete-btn",id:"add-btn",children:[""===I.categoryIconFileNM?"Add Icon":"Delete"," "]})]})]})]}),(0,b.jsxs)("div",{className:"btn-row custom-flex-item custom-justify-center",children:[(0,b.jsx)("button",{className:"btn-black",onClick:i,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn-red",onClick:function(){if(console.log("add new category"),!s&&""===I.categoryIcon&&""===I.categoryIconFileNM)return B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"Please select or attach icon file."})),!1;if(""===I.categoryNm)return B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"You should input all the information."})),!1;var e={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3000",REACT_APP_SERVER_URL:"http://localhost:8090"}.REACT_APP_TEMP_JWT_SUBSIDIARY_ADMIN}},t=new FormData;for(var n in I)I.hasOwnProperty(n)&&"categoryIconPath"!==n&&"categoryIconFileNM"!==n&&t.append(n,I[n]);y.be.post("/faqCa/insert",t,e).then((function(e){var t=e.data;500===t.code?B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:t.msg})):200===t.code&&(P({categoryNm:"",categoryIcon:"",parentCategoryId:"",categoryIconPath:"",categoryIconFileNM:""}),B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"Successfully inserted new catagory",onClose:function(){return i(),w(!1)}})))})).catch((function(e){B((0,a.Z)((0,a.Z)({},L),{},{alertTxt:"Fail to upload file."})),console.log(e)}))},children:"Save"})]})]}),D&&(0,b.jsx)(p.Z,{alertTxt:L.alertTxt,onClose:function(){return L.onClose()},btnTxt:L.btnTxt})]})};i.zo.div(E||(E=(0,o.Z)(["\n    #list-item-"," {\n        background : #FAF1F4; color : #BB0841; \n    }\n    .faq-left {\n        width: ",";\n    }\n    \n"])),(function(e){return e.selectId}),(function(e){return e.openRight?"49%":"100%"}));var P=n.p+"static/media/icon_plus.23a12827899ff4864f5b6c5d261e435d.svg";var R=n.p+"static/media/icon_minus.b885f454ce8164387356ab21f6f7b9a1.svg",A=n(1277),D=n(4081),w=(n(9985),n(8673),n(9198),n(2426)),O=n.n(w);var F,L=function(e){var t=e.data,n=e.setData,o=e.detail,i=e.onSave,s=e.onClose,r=e.onDelete,u=(0,l.useState)(t),d=(0,c.Z)(u,2);d[0],d[1],console.log(o);var f=(0,l.useState)([]),h=(0,c.Z)(f,2),x=h[0],g=h[1];return(0,l.useEffect)((function(){var e,t=null===o||void 0===o||null===(e=o.categoryTree)||void 0===e?void 0:e.split(">");g(t)}),[]),(0,l.useEffect)((function(){console.log(x,"-----------------------------")}),[x]),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"faq-setting-new custom-flex-item",children:[(0,b.jsxs)("div",{className:"content-top custom-flex-item custom-align-item",children:[(0,b.jsx)("span",{children:"Edit FAQ"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("img",{src:m.Z,alt:"close_btn",onClick:s,className:"cursor-btn"})," "]})]}),(0,b.jsxs)("div",{className:"write-row custom-flex-item",children:[(0,b.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,b.jsx)("p",{children:"\xb7 Top 5 Setting"})," "]}),(0,b.jsx)("div",{className:"right",children:(0,b.jsx)(T.Z,{options:[{value:"TOP1",label:"TOP1"},{value:"TOP2",label:"TOP2"},{value:"TOP3",label:"TOP3"},{value:"TOP4",label:"TOP4"},{value:"TOP5",label:"TOP5"}],handleChange:function(e){var t=e.value;n(t)},placeholder:"Select"})})]}),(0,b.jsxs)("div",{className:"write-row custom-flex-item",children:[(0,b.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,b.jsx)("p",{children:"\xb7 Category"})," "]}),(0,b.jsxs)("div",{className:"right",children:[(0,b.jsx)("input",{type:"text",className:"category-subject custom-invalid-input",name:"category",value:x&&x[0],readOnly:!0}),(0,b.jsx)("img",{src:N,alt:"depth"}),(0,b.jsx)("input",{type:"text",className:"category-subject custom-invalid-input",name:"category",value:x&&x[1],readOnly:!0})]})]}),(0,b.jsxs)("div",{className:"write-row custom-flex-item",children:[(0,b.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,b.jsx)("p",{children:"\xb7 Subject"})," "]}),(0,b.jsx)("div",{className:"right",children:(0,b.jsx)("input",{type:"text",className:"category-subject custom-wide-subject",name:"subject",defaultValue:t.title,onChange:function(e){var o=e.target.value;console.log(o),n((0,a.Z)((0,a.Z)({},t),{},{title:o}))}})})]}),(0,b.jsx)("div",{className:"content-middle setting-middle",children:(0,b.jsx)(Z,{data:t,setData:n,onSave:i,onClose:s,isDelete:!0,onDelete:r})})]})})};var B=function(){(0,l.useContext)(s.S);var e=O()().subtract(24,"hours").format("YYYY-MM-DD HH:mm:ss"),t=(0,l.useState)([{value:"LGEAI",label:"LGEAI"},{value:"LGECI",label:"LGECI"},{value:"LGEES",label:"LGEES"},{value:"LGEJP",label:"LGEJP"},{value:"LGEKR",label:"LGEKR"},{value:"LGEMC",label:"LGEMC"}]),n=(0,c.Z)(t,2),o=n[0],i=(n[1],(0,l.useState)(1)),m=(0,c.Z)(i,2),f=m[0],h=m[1],x=(0,l.useState)(16),g=(0,c.Z)(x,1)[0],v={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3000",REACT_APP_SERVER_URL:"http://localhost:8090"}.REACT_APP_TEMP_JWT_LGEKR}},j=(0,l.useRef)(null),T=(0,l.useRef)(null),C=function(){var e=(0,l.useRef)();return(0,l.useEffect)((function(){var t=e.current;if(t){var n=function(e){0!=e.deltaY&&(e.preventDefault(),t.scrollTo({left:t.scrollLeft+e.deltaY,behavior:"smooth"}))};return t.addEventListener("wheel",n),function(){return t.removeEventListener("wheel",n)}}}),[]),e}(),N=((0,l.useRef)(null),(0,l.useRef)(null)),_=(0,l.useState)([]),Z=(0,c.Z)(_,2),E=Z[0],w=Z[1],F=(0,l.useState)(0),B=(0,c.Z)(F,2),k=B[0],U=B[1],W=(0,l.useState)([]),M=(0,c.Z)(W,2),K=M[0],H=M[1],V=(0,l.useState)({title:"",content:"",faqTopId:"",attachments:null,categoryId:"",subCategoryId:""}),z=(0,c.Z)(V,2),G=z[0],Y=z[1],J=(0,l.useState)({attachments:"",reactionState:"",subject:"",dislikeCount:0,likeCount:0,content:"",subsidiary:"",writerName:"",commentCount:0,hits:16,createdAt:"",faqId:"",categoryId:"",writerID:""}),Q=(0,c.Z)(J,2),X=Q[0],$=Q[1],ee=(0,l.useState)(!1),te=(0,c.Z)(ee,2),ne=te[0],oe=te[1],ae=(0,l.useState)({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:"",onClose:function(){return oe(!1)}}),ce=(0,c.Z)(ae,2),le=ce[0],ie=ce[1];(0,l.useEffect)((function(){""!==le.alertTxt&&oe(!0)}),[le.alertTxt]),(0,l.useEffect)((function(){ne||ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:"",onClose:function(){return oe(!1)}}))}),[ne]);var se=(0,l.useState)({page:f,categoryId:"",subsidiary:"",search:"",type:"S"}),re=(0,c.Z)(se,2),ue=re[0],de=re[1],me=(0,l.useState)(!1),fe=(0,c.Z)(me,2),he=fe[0],xe=fe[1],ge=function(){var e=new FormData;for(var t in ue)ue.hasOwnProperty(t)&&e.append(t,ue[t]);v.data=e,xe(!0),(0,y.JI)("/faqData").then((function(e){if(e){if(""!==ue.categoryId){var t=e.filter((function(e){return e.categoryId===ue.categoryId}));H(t)}else H(e);xe(!1)}else xe(!1),ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:"Client Error"}))})).catch((function(e){console.log("error",e)}))},ve=function(){(0,y.JI)("/faqCategory").then((function(e){e?w(e):ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:"Client Error"}))})).catch((function(e){console.log("error",e),ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:"Server Error"}))}))},pe=(0,l.useState)(!1),je=(0,c.Z)(pe,2),ye=je[0],Te=je[1],Ce=(0,l.useState)(!1),Ne=(0,c.Z)(Ce,2),be=Ne[0],_e=Ne[1],Ze=(0,l.useState)(!1),Ee=(0,c.Z)(Ze,2),Se=Ee[0],Ie=Ee[1],Pe=function(e){"all"===e?($({attachments:"",reactionState:"",subject:"",dislikeCount:0,likeCount:0,content:"",subsidiary:"",writerName:"",commentCount:0,hits:0,createdAt:"",faqId:"",categoryId:"",writerID:""}),ge()):"category"===e?Fe({categoryIconFileNM:"",categoryIconId:"",categoryIconPath:"",categoryId:"",categoryNm:"",createdAt:"",iconModal:!1,parentCategoryId:"",rn:0,subCategory:[]}):"editor"===e&&(Y({title:"",content:"",attachments:null,categoryId:"",subCategoryId:""}),Te(!1),ge())};(0,l.useEffect)((function(){be?(Te(!1),Pe("all")):ve()}),[be,ye]),(0,l.useEffect)((function(){if(0===K.length)U(0);else{var e=k;1===f&&(e=0,K.map((function(t){t.rn>e&&(e=t.rn),U(e)})))}}),[K]);var Re=(0,l.useState)([]),Ae=(0,c.Z)(Re,2),De=(Ae[0],Ae[1],(0,l.useState)({categoryIconFileNM:"",categoryIconId:"",categoryIconPath:"",categoryId:"",categoryNm:"",createdAt:"",iconModal:!1,parentCategoryId:"",rn:0,subCategory:[]})),we=(0,c.Z)(De,2),Oe=we[0],Fe=we[1],Le=(0,l.useState)({categoryIconFileNM:"",categoryIconId:"",categoryIconPath:"",categoryId:"",categoryNm:"",createdAt:"",parentCategoryId:"",parentCategoryNm:""}),Be=(0,c.Z)(Le,2),qe=Be[0],ke=(Be[1],function(e,t){"editor"===e?ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:" Click confirm to leave write mode.",onConfirm:function(){oe(!1)},isDoubleBtn:!0,confirmTxt:"Confirm"})):"open"===e?ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:"Are you sure to oepn this post to public?",isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:"You've allowed all to show this post."})):"del-post"===e?ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:"Are you sure to delete post?",onConfirm:function(){We(),oe(!1),Pe("all"),ge()},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:"Deleted post."})):"del-category"===e&&ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:"Are you sure to delete icon for ".concat(Oe.categoryNm,"?"),onConfirm:function(){return function(e){if(""===Oe.categoryId)return!1;var t=new FormData;("category"===e||"sub-category"===e)&&t.append("categoryId",Oe.categoryId),y.ez.post("/faqCa/delete",t,v).then((function(e){var t=e.data;console.log(t,"dddd"),200===t.code?ve():console.log(t)})).catch((function(e){console.log("error",e)}))}("category"),oe(!1),Pe("category")},isDoubleBtn:!0,btnTxt:"Delete"}))}),Ue=function(e){if(null===G||void 0===G||!G.title||null===G||void 0===G||!G.content)return ke("editor"),!1;var t=new FormData,n="/faqData";for(var o in G)G.hasOwnProperty(o)&&"subCategoryId"!==o&&t.append(o,G[o]),t.append("id",G[o]);console.log(Object.fromEntries(t)),""!==G.subCategoryId&&t.set("categoryId",G.subCategoryId),""===G.top5ListId&&t.set("faqTopId",null),(0,y.JI)(n,t).then((function(e){console.log(e)}))},We=function(){var e=new FormData;e.append("faqId",X.faqId);var t={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3000",REACT_APP_SERVER_URL:"http://localhost:8090"}.REACT_APP_TEMP_JWT_LGEKR},data:e};(0,y.ez)("/faq/delete",t).then((function(e){var t=e.data;200===t.code?(ie((0,a.Z)((0,a.Z)({},le),{},{alertTxt:"You've Deleted post.",isDoubleBtn:!1,btnTxt:"Close"})),U(k-1),Pe("all")):console.log(t)})).catch((function(e){console.log("error",e)}))},Me=function(e,t){!function(e){(new FormData).append("faqId",e),(0,y.JI)("/faqDetail",v).then((function(t){for(var n=0;n<t.length;n++)e===t[n].faqId&&(console.log(t,e),$(t[n]),Y((0,a.Z)((0,a.Z)({},G),{},{title:t[n].subject,content:t[n].content,attachments:t[n].attachments,categoryId:t[n].categoryId})))})).catch((function(e){console.log("error",e)}))}(t.faqId)};(0,l.useEffect)((function(){ge()}),[ue.page,ue.categoryId]),(0,l.useEffect)((function(){de((0,a.Z)((0,a.Z)({},ue),{},{page:f}))}),[f]),(0,l.useEffect)((function(){""!==X.faqId&&ye&&Te(!1)}),[X]);var Ke=(0,l.useState)(!1),He=(0,c.Z)(Ke,2),Ve=He[0],ze=He[1];return(0,l.useEffect)((function(){""!==X.faqId||be||ye?ze(!0):ze(!1)}),[X.faqId,be,ye]),(0,l.useEffect)((function(){ye&&""!==X.faqId&&Pe("all")}),[ye]),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(q,{selectid:X.faqId,openright:Ve||ye||be?1:0,children:(0,b.jsxs)("div",{className:"inner-container",children:[(0,b.jsx)(d.Z,{searchArea:!0,auth:!0,options:o,handleChange:function(e){console.log(e)},onChange:function(e){return de((0,a.Z)((0,a.Z)({},ue),{},{search:e.target.value}))},onClick:ge}),(0,b.jsx)("div",{className:"faq-setting",children:(0,b.jsxs)("div",{className:"faq-category custom-flex-item custom-justify-between",children:[(0,b.jsx)("ul",{className:"faq-category-lists",ref:C,children:null===E||void 0===E?void 0:E.map((function(e,t){return(0,b.jsxs)("li",{onClick:function(t){return n=e,Ve&&Pe("all"),void(ue.categoryId===n.categoryId?de((0,a.Z)((0,a.Z)({},ue),{},{categoryId:"",search:""})):de((0,a.Z)((0,a.Z)({},ue),{},{categoryId:n.categoryId})));var n},className:"cursor-btn ".concat(ue.categoryId===e.categoryId&&"hover-selected"),children:[(0,b.jsx)("div",{className:"faq-img-wrapper",children:(0,b.jsx)("img",{src:e.categoryIconPath,alt:"category-icon"})}),(0,b.jsx)("p",{children:e.categoryNm})," "]},(0,y.zs)(t+1))}))}),(0,b.jsx)("div",{}),(0,b.jsxs)("div",{className:"buttons",children:[(0,b.jsx)("button",{className:""===Oe.categoryId&&"custom-invalid-btn",onClick:function(){return""!==Oe.categoryIconId&&ke("del-category")},children:(0,b.jsx)("img",{src:R,alt:"icon_less_btn"})}),(0,b.jsx)("button",{onClick:function(){var e;e=1,X.faqId,1===e?Ie(!1):2===e&&Ie(!0),_e(!0),Te(!1),Pe("all")},children:(0,b.jsx)("img",{src:P,alt:"icon_more_btn"})})]})]})}),(0,b.jsxs)("div",{className:"faq-contents",children:[(0,b.jsxs)("div",{className:"faq-left",ref:j,children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("ul",{className:"board-table custom-align-item custom-flex-item custom-sticky-area",children:[(0,b.jsx)("li",{className:"col-1",children:"No."}),(0,b.jsx)("li",{className:"col-2 ".concat(Ve&&"custom-hide-item"),children:"Category"}),(0,b.jsx)("li",{className:"col-3",children:"Title"}),(0,b.jsx)("li",{className:"col-4 ".concat(Ve&&"custom-hide-item"),children:"Writer"}),(0,b.jsx)("li",{className:"col-5 ".concat(Ve&&"custom-hide-item"),children:"Recommand"}),(0,b.jsx)("li",{className:"col-6",children:"Count"}),(0,b.jsx)("li",{className:"col-7",children:"Date"})]}),K&&K.length>0&&K.map((function(t,n){var o,a,c,l,i;return(0,b.jsxs)("div",{className:"board-list custom-flex-item custom-align-item cursor-btn",onClick:function(e){return Me(0,t)},children:[(0,b.jsx)("ul",{className:"col-1",children:(0,b.jsx)("li",{id:"list-item-".concat(n+1),children:(0,b.jsx)("span",{children:String(t.rn).padStart(3,"0")})})}),(0,b.jsx)("ul",{className:"col-2 ".concat(Ve&&"custom-hide-item"),children:(0,b.jsx)("li",{id:"list-item-".concat(n+1),children:(0,b.jsxs)("span",{children:[null===(o=t.categoryTree)||void 0===o?void 0:o.slice(0,15)," ",(null===t||void 0===t||null===(a=t.categoryTree)||void 0===a?void 0:a.length)>10&&"...."]})})}),(0,b.jsx)("ul",{className:"col-3",children:(0,b.jsxs)("li",{id:"list-item-".concat(n+1),children:[(0,b.jsxs)("span",{className:"board-max-length",children:[Ve?null===t||void 0===t?void 0:t.subject.slice(0,60):null===t||void 0===t?void 0:t.subject.slice(0,82),Ve?(null===(l=t.subject)||void 0===l?void 0:l.length)>60&&"...":(null===(c=t.subject)||void 0===c?void 0:c.length)>82&&"..."]}),(0,b.jsx)("img",{src:O()(null===t||void 0===t?void 0:t.createdAt).format("YYYY-MM-DD HH:mm:ss")>e?A.Z:null}),null!==t.top5ListId&&""!==t.top5ListId&&(0,b.jsx)("span",{className:"custom-stress-txt",children:t.top5ListId}),(0,b.jsxs)("div",{className:"small-detail custom-flex-item ".concat(Ve?"":"custom-hide-item"),children:[(0,b.jsx)("span",{children:null===t||void 0===t?void 0:t.writerName}),(0,b.jsx)("img",{src:D.Z,alt:"like-img"}),(0,b.jsx)("span",{className:"custom-self-align",children:null===t||void 0===t?void 0:t.likeCount})]})]})}),(0,b.jsx)("ul",{className:"col-4 ".concat(Ve&&"custom-hide-item"),children:(0,b.jsx)("li",{id:"list-item-".concat(n+1),children:(0,b.jsxs)("span",{children:[null===t||void 0===t||null===(i=t.writerName)||void 0===i?void 0:i.slice(0,10),(null===t||void 0===t?void 0:t.writerName.length)>=10&&"..."]})})}),(0,b.jsx)("ul",{className:"col-5 ".concat(Ve&&"custom-hide-item"),children:(0,b.jsxs)("li",{id:"list-item-".concat(n+1),children:[(0,b.jsx)("img",{src:D.Z,alt:"like-img"}),(0,b.jsx)("span",{children:null===t||void 0===t?void 0:t.likeCount})]})}),(0,b.jsx)("ul",{className:"col-6",children:(0,b.jsx)("li",{id:"list-item-".concat(n+1),children:(0,b.jsx)("span",{children:null===t||void 0===t?void 0:t.hits})})}),(0,b.jsx)("ul",{className:"col-7",children:(0,b.jsx)("li",{id:"list-item-".concat(n+1),children:(0,b.jsx)("span",{children:O()(null===t||void 0===t?void 0:t.createdAt).format("MM.DD.YY")})})})]},(0,y.zs)(n))}))]}),K&&(0,b.jsx)(r.Z,{activePage:f,itemsCountPerPage:g,totalItemsCount:k,pageRangeDisplayed:5,prevPageText:"\u2039",nextPageText:"\u203a",onChange:function(e){return function(e){h(e),console.log("page ----\x3e",e)}(e)}}),(0,b.jsx)("div",{className:"write-btn",onClick:function(){return Te(!ye)},children:(0,b.jsx)("span",{children:"Write"})})]}),""===X.faqId||ye?""===X.faqId&&ye?(0,b.jsx)("div",{className:"faq-setting-right",ref:N,children:(0,b.jsx)(S,{data:G,setData:Y,onClose:function(){return Te(!1)},onSave:function(){return Ue()}})}):be?(0,b.jsx)("div",{className:"faq-setting-right",ref:N,children:(0,b.jsx)(I,{item:qe,parentCategory:Oe,data:G,setData:Y,onSave:function(){return console.log("e")},onClose:function(){return _e(!1),Ie(!1)},isLower:Se})}):null:(0,b.jsx)("div",{className:"faq-setting-right",ref:T,children:(0,b.jsx)(L,{data:G,detail:X,setData:Y,onSave:function(){return Ue()},onClose:function(){return Pe("all")},onDelete:function(){return ke("del-post")}},X.faqId)})]}),ne&&(0,b.jsx)(p.Z,{alertTxt:le.alertTxt,onConfirm:le.onConfirm,twoBtn:le.isDoubleBtn,btnTxt:le.btnTxt,onClose:function(){return le.onClose()}}),he&&(0,b.jsx)(u.Z,{})]})})})},q=i.zo.div(F||(F=(0,o.Z)(["\n    #list-item-"," {\n        background : #FAF1F4; color : #BB0841; \n    }\n    .faq-left {\n        width: ",";\n    }\n    \n    .col-1 {\n        width: ",";\n    }\n    .col-2 {\n        width: 10%;\n    }\n    .col-3 {\n        width :",";\n    }\n    .col-4 {\n        width: 10%;\n    }\n    .col-5 {\n        width: 10%;\n    }\n    .col-6 {\n        width: ",";\n    }\n    .col-7 {\n        width: ",";\n    }\n    .board-list {\n        padding : ","\n        max-height :  ","\n        height :  ","\n    }\n    \n"])),(function(e){return e.selectid}),(function(e){return e.openright?"49%":"100%"}),(function(e){return e.openright?"10%":"5%"}),(function(e){return e.openright?"60%":"50%"}),(function(e){return e.openright?"15%":"5%"}),(function(e){return e.openright?"15%":"10%"}),(function(e){return e.openright?"17px 30px;":"10px 30px;"}),(function(e){return e.openright?"64px;":"42px;"}),(function(e){return e.openright?"64px;":"42px;"}))}}]);
//# sourceMappingURL=584.7c47d1df.chunk.js.map