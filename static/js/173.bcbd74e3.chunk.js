"use strict";(self.webpackChunkasc_portal=self.webpackChunkasc_portal||[]).push([[173],{8967:function(e,t,n){n.d(t,{r:function(){return d}});var l,a,i=n(2791),s=["title","titleId"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},c.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){var n=e.title,o=e.titleId,d=r(e,s);return i.createElement("svg",c({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},d),n?i.createElement("title",{id:o},n):null,l||(l=i.createElement("circle",{cx:14,cy:14,r:14,fill:"#F0F0F0"})),a||(a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 14.5V18H14.5V14.5H18V13.5H14.5V10H13.5V13.5H10V14.5H13.5Z",fill:"#BF0C3F"})))}var d=i.forwardRef(o);t.Z=n.p+"static/media/icon_more.30052378d8635eec7ca7d184fa7e58a3.svg"},9173:function(e,t,n){n.d(t,{Z:function(){return E}});var l,a,i=n(168),s=n(3433),c=n(1413),r=n(9439),o=n(2791),d=n(6584),u=n(2443),m=n.n(u),f=n(9513),h=n.n(f),x=(n(8639),n(6788)),p=(n(4440),["title","titleId"]);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},j.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e,t){var n=e.title,i=e.titleId,s=v(e,p);return o.createElement("svg",j({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),n?o.createElement("title",{id:i},n):null,l||(l=o.createElement("g",{clipPath:"url(#clip0_366_723)"},o.createElement("path",{d:"M14.5 16H1.5C0.67 16 0 15.33 0 14.5V2.5C0 1.67 0.67 1 1.5 1H14.5C15.33 1 16 1.67 16 2.5V14.5C16 15.33 15.33 16 14.5 16ZM1.5 2C1.22 2 1 2.22 1 2.5V14.5C1 14.78 1.22 15 1.5 15H14.5C14.78 15 15 14.78 15 14.5V2.5C15 2.22 14.78 2 14.5 2H1.5Z",fill:"#5F5F5F"}),o.createElement("path",{d:"M4.5 4C4.22 4 4 3.78 4 3.5V0.5C4 0.22 4.22 0 4.5 0C4.78 0 5 0.22 5 0.5V3.5C5 3.78 4.78 4 4.5 4ZM11.5 4C11.22 4 11 3.78 11 3.5V0.5C11 0.22 11.22 0 11.5 0C11.78 0 12 0.22 12 0.5V3.5C12 3.78 11.78 4 11.5 4ZM15.5 6H0.5C0.22 6 0 5.78 0 5.5C0 5.22 0.22 5 0.5 5H15.5C15.78 5 16 5.22 16 5.5C16 5.78 15.78 6 15.5 6Z",fill:"#5F5F5F"}))),a||(a=o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_366_723"},o.createElement("rect",{width:16,height:16,fill:"white"})))))}var g=o.forwardRef(b),y=(n.p,n(184));var w,N=function(e){var t=(0,o.useState)(e.startDate?new Date(e.startDate):new Date),n=(0,r.Z)(t,2),l=n[0],a=n[1],i=(0,o.useState)(e.endDate?new Date(e.endDate):new Date),s=(0,r.Z)(i,2),c=s[0],d=s[1],u=(0,o.useState)(!1),m=(0,r.Z)(u,2),f=m[0],p=m[1];(0,o.useEffect)((function(){f&&l>c&&(alert("\uc2dc\uc791\uc77c\uacfc \uc885\ub8cc\uc77c\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694."),a(new Date),d(new Date)),e.setStartDate&&e.setStartDate(l),console.log("datepicker first render")}),[l]),(0,o.useEffect)((function(){f&&l>c&&(alert("\uc2dc\uc791\uc77c\uacfc \uc885\ub8cc\uc77c\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694."),d(new Date)),e.setEndDate&&e.setEndDate(c),console.log("datepicker second render")}),[c]),(0,o.useEffect)((function(){e.isDuration&&p(e.isDuration)}),[]);var j=(0,o.forwardRef)((function(e,t){var n=e.value,l=e.onClick;return(0,y.jsx)("div",{className:"custom-cal",onClick:l,ref:t,children:(0,y.jsxs)("span",{className:"custom-picker",children:[" ",n," ",(0,y.jsx)(g,{})," "]})})}));return(0,y.jsxs)("div",{className:"custom-flex-item custom-align-item",children:[(0,y.jsx)(h(),{name:e.startName||"startDate",locale:x.Z,dateFormat:"yyyy-MM-dd",selected:l,onChange:function(e){a(e)},shouldCloseOnSelect:!0,className:"custom-picker",readOnly:!!e.readOnly,customInput:(0,y.jsx)(j,{})}),f?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{padding:"0 13px"},children:"~"}),(0,y.jsx)(h(),{name:e.endName||"endDate",locale:x.Z,dateFormat:"yyyy-MM-dd",selected:c,onChange:function(e){d(e)},shouldCloseOnSelect:!0,className:"custom-picker",readOnly:!!e.readOnly,customInput:(0,y.jsx)(j,{})})]}):null]})},C=n(8967),Z=n(9256),D=n(3880),O=n(2426),k=n.n(O),P=n(4442),F=n(5013);var E=function(e){var t=e.period,n=e.data,l=e.setData,a=e.range,i=e.onSave,u=e.onClose,f=e.onDelete,h=(e.onAttach,(0,o.useContext)(D.S)),x=(0,o.useState)(!1),p=(0,r.Z)(x,2),j=p[0],v=p[1],b=(0,o.useState)({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""}),g=(0,r.Z)(b,2),w=g[0],Z=g[1],O=(0,o.useState)([{fileName:"",filePath:""}]),E=(0,r.Z)(O,2),T=E[0],M=E[1],V=function(e,t){console.log(t),l((0,c.Z)((0,c.Z)({},n),{},{isPublic:t}))},H=function(){console.log("onStopInput"),l(n)};return(0,o.useEffect)((function(){j||Z((0,c.Z)((0,c.Z)({},w),{},{alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""}))}),[j]),(0,o.useEffect)((function(){""!==w.alertTxt&&v(!0)}),[w]),(0,o.useEffect)((function(){console.log("---------------------------------------------------------------------!!"),l((0,c.Z)((0,c.Z)({},n),{},{isPublic:n.isPublic}))}),[n.isPublic]),(0,y.jsx)(S,{children:(0,y.jsxs)("div",{className:"editor-container editor-border cstalk-editor",children:[(0,y.jsxs)("div",{className:"write-row",children:[(0,y.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,y.jsx)("p",{children:"\xb7 Writer"})," "]}),(0,y.jsxs)("div",{className:"right",children:[" ",(0,y.jsx)("input",{type:"text",className:"write-input",name:"writer",readOnly:!0,value:h.name})," "]})]}),(0,y.jsxs)("div",{className:"write-row",children:[(0,y.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,y.jsx)("p",{children:"\xb7 Date"})," "]}),(0,y.jsxs)("div",{className:"right",children:[" ",(0,y.jsx)("input",{type:"text",className:"write-input",name:"date",readOnly:!0,value:k()().format("MM.DD.YY")})," "]})]}),(0,y.jsxs)("div",{className:"write-row",children:[(0,y.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,y.jsx)("p",{children:"\xb7 Release to"})," "]}),(0,y.jsxs)("div",{className:"right radio-row custom-flex-item",children:[(0,y.jsxs)("label",{id:"custom-label",onClick:function(e){return V(0,1)},children:[(0,y.jsx)("input",{className:"hiddenRadio",type:"radio",name:"release",value:a?1:"ALL",checked:1===n.isPublic}),(0,y.jsx)("div",{className:"showRadio"}),(0,y.jsx)("span",{children:"All"})]}),(0,y.jsxs)("label",{id:"custom-label",onClick:function(e){return V(0,0)},children:[(0,y.jsx)("input",{className:"hiddenRadio",type:"radio",name:"release",value:a?0:"LGC",checked:0===n.isPublic}),(0,y.jsx)("div",{className:"showRadio"}),(0,y.jsx)("span",{children:a?"Me":"LGC"})]}),(0,y.jsxs)("label",{id:"custom-label",onClick:function(e){return V(0,2)},children:[(0,y.jsx)("input",{className:"hiddenRadio",type:"radio",name:"release",value:a?2:"ASC",checked:2===n.isPublic}),(0,y.jsx)("div",{className:"showRadio"}),(0,y.jsx)("span",{children:a?"Center":"ASC"})]})]})]}),t&&(0,y.jsxs)("div",{className:"write-row",children:[(0,y.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,y.jsx)("p",{children:"\xb7 Period"})," "]}),(0,y.jsx)("div",{className:"right",children:(0,y.jsx)(N,{isDuration:!0,startName:"startName",endName:"endName"})})]}),(0,y.jsxs)("div",{className:"write-row",children:[(0,y.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,y.jsx)("p",{children:"\xb7 Subject"})," "]}),(0,y.jsx)("div",{className:"right",children:(0,y.jsx)("input",{type:"text",className:"write-input",ame:"subject",value:n.title,onChange:function(e){!function(e){var t=e.target.value;t.length<=100?l((0,c.Z)((0,c.Z)({},n),{},{title:t})):Z((0,c.Z)((0,c.Z)({},w),{},{alertTxt:"Up to 100 characters are allowed."}))}(e)},onBlur:function(){return H()}})})]}),(0,y.jsxs)("div",{className:"write-row",children:[(0,y.jsxs)("div",{className:"left custom-flex-item custom-align-item",children:[" ",(0,y.jsx)("p",{children:"\xb7 Detail"})," "]}),(0,y.jsx)("div",{className:"right",children:(0,y.jsx)(d.CKEditor,{editor:m(),data:n.content,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();encodeURIComponent(a);l((0,c.Z)((0,c.Z)({},n),{},{content:a}))},onBlur:function(e,t){H()},onFocus:function(e,t){console.log("Focus.",t)}})})]}),(0,y.jsxs)("div",{className:"write-row",children:[(0,y.jsxs)("div",{className:"left custom-flex-item custom-align-item custom-justify-between",children:[" ",(0,y.jsx)("p",{className:"custom-flex-item custom-justify-center custom-align-item",children:"\xb7 Attachments"}),(0,y.jsx)("label",{htmlFor:"add-row",children:(0,y.jsx)("img",{src:C.Z})}),(0,y.jsx)("button",{onClick:function(){return function(){if(T.length<5){var e=[].concat((0,s.Z)(T),[{fileName:"",filePath:""}]);M(e)}else Z((0,c.Z)((0,c.Z)({},w),{},{alertTxt:"Up to 5 file attachments are allowed."}))}()},name:"attachments",style:{display:"none"},id:"add-row"})]}),(0,y.jsxs)("div",{className:"right file-upload",children:[null===T||void 0===T?void 0:T.map((function(e,t){return(0,y.jsxs)("div",{className:"custom-flex-item custom-align-item",children:[(0,y.jsx)("input",{type:"text",className:"write-input attach-input",name:"filename",readOnly:!0,defaultValue:e.fileName}),(0,y.jsx)("label",{className:"custom-flex-item custom-justify-center custom-align-item custom-stress-txt",htmlFor:""===T[t].fileName?"file-select-btn-".concat(t):"file-reset-btn-".concat(t),children:""===T[t].fileName?"Select":"Delete"}),(0,y.jsx)("input",{type:"file",className:"file-select-btn",style:{display:"none"},id:"file-select-btn-".concat(t),onChange:function(e){var a,i=null===(a=e.target)||void 0===a?void 0:a.files[0];if(i.size>20971520)return Z((0,c.Z)((0,c.Z)({},w),{},{alertTxt:"Only files of 20MB or less can be attached."})),!1;if(!["application/pdf","application/x-hwp","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.presentation"].includes(i.type))return Z((0,c.Z)((0,c.Z)({},w),{},{alertTxt:"Attached files can only be in PDF, HWP, Docx, xls, and PPT formats."})),!1;console.log(i);var r=new FormData;r.append("uploadFiles",i),r.append("directoryType","cstalk"),F.JI.post("/fileUpload",r).then((function(e){var a=e.data;500==a.code?Z((0,c.Z)((0,c.Z)({},w),{},{alertTxt:a.msg})):function(e,t){console.log("########## updateFile ###########",e,t);var a=(0,s.Z)(T),i=a[e];i.fileName=t.fileName,i.uploadPath=t.uploadPath,l((0,c.Z)((0,c.Z)({},n),{},{attachments:JSON.stringify(a)}))}(t,a.result[0])})).catch((function(e){Z((0,c.Z)((0,c.Z)({},w),{},{alertTxt:"Fail to attach file."})),console.log(e)}))}}),(0,y.jsx)("button",{id:"file-reset-btn-".concat(t),style:{display:"none"},onClick:function(){return function(e){M((function(t){var n=(0,s.Z)(t);return n[e]={fileName:"",filePath:""},n}))}(t)}}),(0,y.jsx)("button",{id:"file-delete-btn",style:{display:"none"},onClick:function(){return function(e){console.log(e),T.length>1?M((function(t){var n=(0,s.Z)(t);return n.splice(e,1),n})):Z((0,c.Z)((0,c.Z)({},w),{},{alertTxt:"At least one attachment is required."}))}(t)}}),(0,y.jsx)("label",{className:"custom-flex-item custom-justify-center custom-align-item custom-stress-txt",htmlFor:"file-delete-btn",children:"Delete"})]},(0,F.zs)(t))})),(0,y.jsx)("p",{className:"attach-desc",children:"Attached files can only be in PDF, HWP, Docx, xls, and PPT formats (Support up to 100MB)"})]})]}),(0,y.jsxs)("div",{className:"btn-row",style:""===n.csTalkId?{justifyContent:"flex-end"}:null,children:[""!==n.csTalkId&&(0,y.jsx)("button",{className:"btn-white",onClick:f,children:"Delete"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{className:"btn-black",onClick:u,children:"Cancel"}),(0,y.jsx)("button",{type:"submit",className:"btn-red",onClick:i,children:"Save"})]})]}),j&&(0,y.jsx)(P.Z,{alertTxt:w.alertTxt,onClose:function(){return v(!1)},onConfirm:w.onConfirm,twoBtn:w.isDoubleBtn,btnTxt:w.btnTxt})]})})},S=Z.zo.div(w||(w=(0,i.Z)(["\n"])))}}]);
//# sourceMappingURL=173.bcbd74e3.chunk.js.map