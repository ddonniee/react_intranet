"use strict";(self.webpackChunkasc_portal=self.webpackChunkasc_portal||[]).push([[39],{7039:function(t,e,n){n.r(e);var o,s=n(168),a=n(3433),i=n(1413),c=n(9439),r=n(2791),l=n(9256),d=n(2426),u=n.n(d),m=n(3637),h=n(2903),p=n(8772),f=(n(1790),n(9554)),x=n(2294),v=n(9173),_=n(7162),T=n(4442),C=n(5013),b=(n(5840),n(1277)),E=n(7501),j=n(5528),g=n(4081),k=n(9985),P=n(6424),A=n(298),N=n(4507),S=n(6045),I=n(1086),R=n(3880),w=n(8859),D=n(184);e.default=function(){var t=(0,r.useContext)(R.S),e=u()().subtract(24,"hours").format("YYYY-MM-DD HH:mm:ss"),n=(0,r.useState)({isViewer:!1,isWriter:!1}),o=(0,c.Z)(n,2),s=o[0],l=o[1],d=[{parentCategoryName:null,subject:"Best way to conceive customers",orderNum:2,likeCount:0,createdAt:"2023-06-29T02:31:44.000+00:00",cstalkId:"1687935618_23f",hits:12,rn:1,subsidiary:"EAI",writerID:"Charie",writerName:"Charie",commentCount:0,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:null,subject:"Benefits for the staff who worked in holidays.",orderNum:2,likeCount:2,createdAt:"2023-06-29T02:31:44.000+00:00",cstalkId:"1687935618_24f",hits:42,rn:2,subsidiary:"EAI",writerID:"New York",writerName:"New York",commentCount:1,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:null,subject:"Are you sure it's unavailable?",orderNum:2,likeCount:0,createdAt:"2023-06-29T02:31:44.000+00:00",cstalkId:"1687935618_25f",hits:42,rn:3,subsidiary:"EAI",writerID:"Simson",writerName:"Simson",commentCount:0,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:null,subject:"New option for damaged goods.",orderNum:2,likeCount:1,createdAt:"2023-06-29T02:31:44.000+00:00",cstalkId:"1687935618_26f",hits:42,rn:4,subsidiary:"EAI",writerID:"Anna",writerName:"Anna",commentCount:1,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:null,subject:"Contorl tower would shut down in holidays.",orderNum:2,likeCount:0,createdAt:"2023-06-29T02:31:44.000+00:00",cstalkId:"1687935618_27f",hits:42,rn:5,subsidiary:"EAI",writerID:"Jennie",writerName:"Jennie",top5ListId:"",commentCount:2,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:null,subject:"If you can't access your account on mobile.",orderNum:2,likeCount:0,createdAt:"2023-06-29T02:31:44.000+00:00",cstalkId:"1687935618_28f",hits:42,rn:6,subsidiary:"EAI",writerID:"donnie_lee",writerName:"donnie",top5ListId:"",commentCount:3,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:"Hold",subject:"If you can't get any respond from origin whene there is a shipping issue.",orderNum:2,likeCount:0,createdAt:"2023-06-29T02:31:44.000+00:00",cstalkId:"1687935618_29f",hits:42,rn:7,subsidiary:"EAI",writerID:"donnie_lee",writerName:"donnie",top5ListId:"top4",commentCount:2,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:null,subject:"Return or discard damaged parts ?",orderNum:2,likeCount:0,createdAt:"2023-07-29T02:31:44.000+00:00",cstalkId:"1687935618_30f",hits:42,rn:8,subsidiary:"EAI",writerID:"donnie_lee",writerName:"donnie",top5ListId:"top5",commentCount:2,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:null,subject:"Urgent cases handling instrunction.",orderNum:2,likeCount:0,createdAt:"2023-07-29T02:31:44.000+00:00",cstalkId:"1687935618_31f",hits:42,rn:9,subsidiary:"EAI",writerID:"donnie_lee",writerName:"donnie",top5ListId:"",commentCount:1,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]},{parentCategoryName:null,subject:"If customers ask some reward for pendings.",orderNum:2,likeCount:0,categoryName:"Installation",cstalkId:"1687935618_32f",hits:42,rn:10,subsidiary:"EAI",writerID:"donnie_lee",writerName:"donnie",top5ListId:"",commentCount:0,content:"<div><h1>1. Ask your customer to respond for customers' evaluation link.</p></div>",isPublic:"All",attachments:[]}],Z=(0,r.useState)(1),y=(0,c.Z)(Z,2),O=y[0],B=y[1],U=(0,r.useState)(16),W=(0,c.Z)(U,1)[0],K=(0,r.useState)([{value:"",label:"All"},{value:"LGEAI",label:"LGEAI"},{value:"LGECI",label:"LGECI"},{value:"LGEES",label:"LGEES"},{value:"LGEJP",label:"LGEJP"},{value:"LGEKR",label:"LGEKR"},{value:"LGEMC",label:"LGEMC"}]),F=(0,c.Z)(K,2),H=F[0],M=(F[1],(0,r.useState)(!1)),Y=(0,c.Z)(M,2),z=Y[0],G=Y[1],V=(0,r.useState)(!1),J=(0,c.Z)(V,2),Q=J[0],q=J[1];(0,r.useEffect)((function(){At((0,i.Z)((0,i.Z)({},Pt),{},{page:O}))}),[O]);var X=(0,r.useState)([]),$=(0,c.Z)(X,2),tt=$[0],et=$[1],nt=(0,r.useState)({title:"",content:"",isPublic:null,attachments:null,csTalkId:""}),ot=(0,c.Z)(nt,2),st=ot[0],at=ot[1],it=(0,r.useState)({attachments:"",subject:"",branch:"",center:"",commentCount:0,content:"",createdAt:"",csTalkId:"",hits:0,isPublic:null,likeCount:0,parentCsId:"",subsidiary:"",writerID:"",reactionState:"",writerName:""}),ct=(0,c.Z)(it,2),rt=ct[0],lt=ct[1];(0,r.useEffect)((function(){console.log(t);t.role;l((0,i.Z)((0,i.Z)({},s),{},{isViewer:!0,isWriter:!0}))}),[rt.csTalkId]);var dt=(0,r.useState)(!1),ut=(0,c.Z)(dt,2),mt=ut[0],ht=ut[1],pt=function(t){Lt(!0);var e=new FormData;e.append("csTalkId",t),console.log(Object.fromEntries(e)),lt({attachments:'[{"uploadPath": "notice/20230703/vmCubeLauncher.ica", "fileName": "vmCubeLauncher.ica" }]',reactionState:"NONE",subject:"R007 \u2013 Used Parts Q\u2019ty larger than available",center:"LGEKR007194H",likeCount:0,branch:"LGEKR_BRANCH_4490O",content:'<div><p>Through the GSFS system, access the SO that is on HOLD and check that the "Purchase date", "Repair start date" and "Repair completion date" are in accordance with the SO signed by the customer.\nCondition:\n1- If the data are correct: "Purchase date", Repair start date" and "Repair completion date", just attach the OS signed by the customer to the SO next to the purchase invoice. 2- If the</p></div>\n\n',subsidiary:"LGEKR",writerName:"\ubc95\uc778 \uad00\ub9ac\uc790",commentCount:0,hits:44,createdAt:"2023-06-20T16:15:08.000+00:00",csTalkId:"1687310108_bfd",parentCsId:null,isPublic:2,writerID:"ID_SS"})},ft=(0,r.useState)(!1),xt=(0,c.Z)(ft,2),vt=xt[0],_t=xt[1],Tt=(0,r.useState)({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""}),Ct=(0,c.Z)(Tt,2),bt=Ct[0],Et=Ct[1],jt=function(t,e){console.log(e,'"btn-row"'),console.log("onConfirmHandler",Q),1===t||7===t?Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:" Click confirm to leave write mode.",onConfirm:function(){q(!1),Jt(!1),_t(!1),at({title:"",content:"",isPublic:null,attachments:"",csTalkId:""}),Yt(),7===t&&q(!1),1===t&&pt(e)},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:""})):2===t?Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"Are you sure to oepn this post to public?",onConfirm:function(){ce(),_t(!1),Yt()},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:"You've allowed all to show this post."})):3===t?Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"Are you sure to delete post?",onConfirm:function(){ie(),_t(!1),Yt(),Zt()},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:"Deleted post."})):4===t?Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"Are you sure to delete comment?",onConfirm:function(){ae(e),_t(!1)},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:"Deleted comment."})):5===t?Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"Any content input",onConfirm:function(){return _t(!1)},isDoubleBtn:!1,btnTxt:"Close"})):6===t&&Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"Success",onConfirm:function(){_t(!1),Yt()},isDoubleBtn:!1,btnTxt:"Close"}))};(0,r.useEffect)((function(){vt||Et({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""})}),[vt]),(0,r.useEffect)((function(){""!==bt.alertTxt?_t(!0):_t(!1)}),[bt]);var gt=(0,r.useState)({page:1,subsidiary:"",view:"",search:""}),kt=(0,c.Z)(gt,2),Pt=kt[0],At=kt[1],Nt=(0,r.useState)(0),St=(0,c.Z)(Nt,2),It=St[0],Rt=St[1],wt=(0,r.useState)(!1),Dt=(0,c.Z)(wt,2),Lt=(Dt[0],Dt[1]),Zt=function(){Lt(!0);var t=new FormData;for(var e in Pt)Pt.hasOwnProperty(e)&&t.append(e,Pt[e]);et(d)},yt=(0,r.useState)(1),Ot=(0,c.Z)(yt,2),Bt=Ot[0],Ut=Ot[1],Wt=(0,r.useState)([]),Kt=(0,c.Z)(Wt,2),Ft=Kt[0],Ht=Kt[1],Mt=function(){var t=new FormData;t.append("page",Bt),t.append("csTalkId",rt.csTalkId);var e={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"https://ddonniee.github.io/react_intranet/",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/commentList",e).then((function(t){var e=t.data;if(200===e.code){var n=e.result;n.map((function(t){t.openSubComment=!1,t.isInput=!1})),Ht(n),console.log("comment",n)}else console.log(e)})).catch((function(t){console.log("error",t)}))},Yt=function(){Zt(),lt({attachments:"",subject:"",branch:"",center:"",commentCount:0,content:"",createdAt:"",csTalkId:"",hits:0,isPublic:null,likeCount:0,parentCsId:"",subsidiary:"",writerID:"",reactionState:"",writerName:""}),q(!1),Jt(!1)},zt=(0,r.useState)(!1),Gt=(0,c.Z)(zt,2),Vt=Gt[0],Jt=Gt[1],Qt=(0,r.useState)(""),qt=(0,c.Z)(Qt,2),Xt=qt[0],$t=qt[1],te=(0,r.useState)(""),ee=(0,c.Z)(te,2),ne=ee[0],oe=ee[1],se=function(t,e){if(console.log("onAddComment",t,e),1===t&&""===Xt)return jt(5),!1;if(2===t&&""===ne)return jt(5),!1;var n=new FormData;n.append("csTalkId",rt.csTalkId),1===t&&n.append("content",Xt),2===t&&(n.append("commentId",e),n.append("content",ne));var o={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"https://ddonniee.github.io/react_intranet/",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:n};(0,C.ez)("/csTalk/commentInsert",o).then((function(e){var n=e.data;200===n.code?1===t?$t(""):oe(""):console.log(n,"comment list")})).catch((function(t){console.log("error",t)}))};(0,r.useEffect)((function(){rt&&""===Xt&&(Zt(),pt(rt.csTalkIdid),lt((0,i.Z)((0,i.Z)({},rt),{},{commentCount:rt.commentCount+1})),Mt())}),[Xt]),(0,r.useEffect)((function(){console.log("content",st)}),[st]);var ae=function(t){var e=new FormData;e.append("commentId",t);var n={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"https://ddonniee.github.io/react_intranet/",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:e};(0,C.ez)("/csTalk/commentDelete",n).then((function(e){var n=e.data;200===n.code?(Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"You've deleted comment.",isDoubleBtn:!1,btnTxt:"Close"})),pt(t),Mt(),Zt()):console.log(n,"resData")})).catch((function(t){console.log("error",t)}))},ie=function(){var t=new FormData;t.append("csTalkId",rt.csTalkId),console.log(Object.fromEntries(t),"on delete post");var e={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"https://ddonniee.github.io/react_intranet/",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/delete",e).then((function(t){var e=t.data;200===e.code?(Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"You've Deleted post.",isDoubleBtn:!1,btnTxt:"Close"})),Rt(It-1),Zt()):console.log(e)})).catch((function(t){console.log("error",t)}))},ce=function(){var t=new FormData,e=rt.csTalkId;t.append("csTalkId",e);var n={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"https://ddonniee.github.io/react_intranet/",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/public",n).then((function(t){var n=t.data;200===n.code?(Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"You've changed open status for this post to all.",isDoubleBtn:!1,btnTxt:"Close"})),pt(e)):console.log(n)})).catch((function(t){console.log("error",t)}))};(0,r.useLayoutEffect)((function(){Zt()}),[Pt.page]),(0,r.useEffect)((function(){if(0===tt.length)Rt(0);else{var t=It;1===Pt.page&&(t=0,console.log("ms",t),tt.map((function(e){e.rn>t&&(console.log(e.rn),t=e.rn),Rt(t)})))}}),[tt]);var re=(0,r.useState)([]),le=(0,c.Z)(re,2),de=le[0],ue=le[1],me=(0,r.useState)(!1),he=(0,c.Z)(me,2),pe=he[0],fe=(he[1],(0,r.useState)(!1)),xe=(0,c.Z)(fe,2),ve=(xe[0],xe[1]);return(0,r.useEffect)((function(){var t;console.log("file",null===(t=de[0])||void 0===t?void 0:t.fileName)}),[de]),(0,r.useEffect)((function(){Mt(),ve(!0);var t=setTimeout((function(){ve(!1)}),500);return function(){return clearTimeout(t)}}),[Bt]),(0,r.useEffect)((function(){""!==rt.csTalkId||Q||Vt?ht(!0):ht(!1)}),[rt.csTalkId,Q,Vt]),(0,r.useEffect)((function(){console.log("selected item---\x3e",rt)}),[rt]),(0,r.useEffect)((function(){Q&&lt({attachments:"",subject:"",branch:"",center:"",commentCount:0,content:"",createdAt:"",csTalkId:"",hits:0,isPublic:null,likeCount:0,parentCsId:"",subsidiary:"",writerID:"",reactionState:"",writerName:""})}),[Q]),(0,D.jsxs)(L,{openright:mt,iswrite:Q||Vt,children:[(0,D.jsx)(h.Z,{}),(0,D.jsxs)("div",{className:"notice-container cstalk-container",children:[(0,D.jsxs)("div",{className:"inner-container",children:[(0,D.jsx)(p.Z,{searchArea:!0,auth:s.isWriter,options:H,handleChange:function(t,e){console.log("handleSelectBox",t,e);var n=t.value;At((0,i.Z)((0,i.Z)({},Pt),{},{view:n}))},onChange:function(t){return At((0,i.Z)((0,i.Z)({},Pt),{},{search:t.target.value}))},onClick:Zt}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"cstalk-contents ",children:[(0,D.jsxs)("div",{className:"cstalk-left",children:[(0,D.jsxs)("div",{className:"cstalk-count",children:["Total ",(0,D.jsx)("span",{className:"custom-stress-txt",children:It})]}),(0,D.jsxs)("div",{className:"board-menu",children:[(0,D.jsx)("span",{className:"col-1",style:null!==rt&&void 0!==rt&&rt.csTalkId?{width:"10%"}:null,children:"No."}),(0,D.jsx)("span",{className:"col-3",children:"Title"}),(0,D.jsx)("span",{className:"col-4 ".concat(mt?"custom-hide-item":""),children:"Writer"}),(0,D.jsx)("span",{className:"col-5 ".concat(mt?"custom-hide-item":""),children:"Recommand"}),(0,D.jsx)("span",{className:"col-6",style:null!==rt&&void 0!==rt&&rt.csTalkId?{width:"15%"}:null,children:"Count"}),(0,D.jsx)("span",{className:"col-7",style:null!==rt&&void 0!==rt&&rt.csTalkId?{width:"15%"}:null,children:"Date"})]}),(0,D.jsx)("div",{children:0!==tt.length?tt.length>0&&tt.map((function(t,n){var o,s,a;return console.log(t.cstalkId),(0,D.jsxs)("div",{className:"board-list custom-flex-item custom-align-item cursor-btn ".concat(rt.cstalkId===t.cstalkId?"hover-selected":""),onClick:function(e){return function(t,e){if(console.log("handle clikc edf smflknsdklf",e),ue([]),(Q||Vt)&&(""!==st.title||""!==st.content))return jt(1,e),!1;Q?q(!1):Jt(!1),lt(e)}(0,t)},children:[(0,D.jsx)("ul",{className:"col-1",style:null!==rt&&void 0!==rt&&rt.cstalkId?{width:"10%"}:null,children:(0,D.jsx)("li",{id:"list-item-".concat(n+1),children:(0,D.jsx)("span",{children:String(16*(O-1)+(n+1)).padStart(3,"0")})})}),(0,D.jsx)("ul",{className:"col-3",children:(0,D.jsxs)("li",{id:"list-item-".concat(n+1),children:[(0,D.jsxs)("span",{className:"board-max-length",children:[mt?null===t||void 0===t?void 0:t.subject.slice(0,60):null===t||void 0===t?void 0:t.subject.slice(0,82),mt?(null===(s=t.subject)||void 0===s?void 0:s.length)>60&&"...":(null===(o=t.subject)||void 0===o?void 0:o.length)>82&&"..."]}),(0,D.jsx)("img",{src:u()(null===t||void 0===t?void 0:t.createdAt).format("YYYY-MM-DD HH:mm:ss")>e?b.Z:null}),0!==t.commentCount&&(0,D.jsx)("span",{className:"custom-stress-txt",children:"(".concat(t.commentCount,")")})]})}),(0,D.jsx)("ul",{className:"col-4 ".concat(mt&&"custom-hide-item"),children:(0,D.jsx)("li",{id:"list-item-".concat(n+1),children:(0,D.jsxs)("span",{children:[null===t||void 0===t||null===(a=t.writerName)||void 0===a?void 0:a.slice(0,10),(null===t||void 0===t?void 0:t.writerName.length)>=10&&"..."]})})}),(0,D.jsx)("ul",{className:"col-5 ".concat(mt&&"custom-hide-item"),children:(0,D.jsxs)("li",{id:"list-item-".concat(n+1),children:[(0,D.jsx)("img",{src:g.Z,alt:"like-img"}),(0,D.jsx)("span",{children:null===t||void 0===t?void 0:t.likeCount})]})}),(0,D.jsx)("ul",{className:"col-6",style:null!==rt&&void 0!==rt&&rt.csTalkId?{width:"15%"}:null,children:(0,D.jsx)("li",{id:"list-item-".concat(n+1),children:(0,D.jsx)("span",{children:null===t||void 0===t?void 0:t.hits})})}),(0,D.jsx)("ul",{className:"col-7",style:null!==rt&&void 0!==rt&&rt.csTalkId?{width:"15%"}:null,children:(0,D.jsx)("li",{id:"list-item-".concat(n+1),children:(0,D.jsx)("span",{children:u()(null===t||void 0===t?void 0:t.createdAt).format("MM.DD.YY")})})})]},(0,C.zs)(n))})):(0,D.jsx)("div",{className:"no-data",children:"no data"})}),tt&&(0,D.jsx)(m.Z,{activePage:O,itemsCountPerPage:W,totalItemsCount:It,pageRangeDisplayed:5,prevPageText:"\u2039",nextPageText:"\u203a",onChange:function(t){B(t),console.log("page ----\x3e",t)},hideFirstLastPages:!0}),(0,D.jsx)("div",{className:"write-btn",onClick:function(){return Q?Vt?jt(7,rt.csTalkId):Q?jt(1):null:q(!0)},children:(0,D.jsx)("span",{children:"Write"})})]}),Q?(0,D.jsx)("div",{className:"editor-wrapper",children:(0,D.jsx)(v.Z,{data:st,isWriter:Q,setData:at,onSave:function(){if(console.log(st,"111111111111111111111111111111111111"),""===st.title||""===st.content||null===st.isPublic)return Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"Please fill out all the information.",isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""})),!1;if(Q){var t=new FormData;for(var e in st)st.hasOwnProperty(e)&&t.append(e,st[e]);var n={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"https://ddonniee.github.io/react_intranet/",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/insert",n).then((function(t){200===t.data.code?(Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"You've inserted new post.",isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""})),q(!1),at({title:rt.subject,content:rt.content,isPublic:rt.isPublic,attachments:rt.attachments,csTalkId:rt.csTalkId}),Zt(),Yt()):console.log(t,"else")})).catch((function(t){console.log("error",t)}))}},onClose:function(){return""!==st.title||""!==st.content?jt(1):(q(!1),ht(!1))},range:!0})}):Q||""===rt.csTalkId||Vt?Vt?(0,D.jsx)(v.Z,{data:st,setData:at,range:!0,onSave:function(){if(""===st.title||""===st.content||null===st.isPublic)return Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"Please fill out all the information.",isDoubleBtn:!1,btnTxt:"Close"})),!1;if(Vt){console.log("content : ",st);var t=new FormData;for(var e in st)st.hasOwnProperty(e)&&t.append(e,st[e]);var n={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"https://ddonniee.github.io/react_intranet/",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/update",n).then((function(t){var e=t.data;200===e.code?(Et((0,i.Z)((0,i.Z)({},bt),{},{alertTxt:"You've modified your post.",isDoubleBtn:!1,btnTxt:"Close"})),Jt(!1),at({title:rt.subject,content:rt.content,isPublic:rt.isPublic,attachments:rt.attachments,csTalkId:rt.csTalkId}),Zt(),pt(st.csTalkId)):console.log(e,"resData")})).catch((function(t){console.log("error",t)}))}},onClose:function(){return""!==st.title||""!==st.content?jt(1):Jt(!1)},onDelete:function(){return jt(3)}},rt.csTalkId):null:(0,D.jsxs)("div",{className:"cstalk-right custom-flex-item ".concat(pe?"loadingOpacity":""),children:[(0,D.jsxs)("div",{className:"board-view-top",children:[(0,D.jsxs)("div",{className:"board-btn-area custom-flex-item custom-align-item custom-justify-between",children:[(0,D.jsxs)("button",{className:"board-minimize-btn",onClick:function(){G(!0)},children:[(0,D.jsx)("img",{src:I.Z,alt:"minimize-btn",className:"screen-icon"})," Full Screen"]}),(0,D.jsx)("img",{src:S.Z,alt:"close-btn",onClick:Yt})]}),(0,D.jsx)("p",{className:"board-title",children:rt.subject}),(0,D.jsxs)("p",{className:"board-title-detail",children:[(0,D.jsx)("span",{children:"Writer"})," : ",rt.writerName," \xa0",(0,D.jsx)("span",{children:"Date"})," : ",u()(rt.createdAt).format("'DD.MM.YY")]}),(0,D.jsx)("div",{className:"board-title-attach",children:(0,D.jsx)("span",{className:"custom-flex-item custom-align-item",children:(0,D.jsx)("div",{className:"custom-flex-item custom-align-item custom-flex-wrap",children:0!==de.length&&de.map((function(t,e){return(0,D.jsxs)("span",{className:"board-attach-box",onClick:function(){return(0,C.Ve)(t.uploadPath)},children:[(0,D.jsx)("img",{src:E.Z,alt:"attachment",className:"attach-icon"}),(0,D.jsx)("p",{children:"".concat(t.fileName," ").concat(null!==t&&void 0!==t&&t.fileSize?"(".concat((0,C.hy)(t.fileSize),")"):"")}),(0,D.jsxs)("span",{className:"board-attach-down",onClick:function(){return(0,C.Ve)(t.uploadPath)},children:[(0,D.jsx)("img",{src:j.Z,alt:"attachment-download"})," "]})]},(0,C.zs)(e))}))})})})]}),(0,D.jsxs)("div",{className:"board-view-middle",children:[(0,D.jsxs)("div",{className:"cstalk-right-middle",children:[(0,D.jsxs)("div",{className:"ck-viewer",children:[" ",(0,D.jsx)(f.Z,{content:rt.content})]}),(0,D.jsxs)("div",{className:"setting-viewer custom-flex-item",children:[rt.writerID===t.id&&(0,D.jsx)("div",{style:{marginRight:"auto"},children:(0,D.jsx)("button",{onClick:function(){return jt(3)},className:"custom-flex-item custom-align-item ",children:"Delete"})}),1!==rt.isPublic&&"LGEKR"===t.subsidiary&&(0,D.jsx)("div",{children:(0,D.jsx)("button",{className:"custom-flex-item custom-align-item",onClick:function(){return jt(2)},children:"Allow Views"})}),rt.writerID===t.id&&(0,D.jsx)("div",{children:(0,D.jsx)("button",{className:"custom-flex-item custom-align-item",onClick:function(){at((0,i.Z)((0,i.Z)({},st),{},{title:rt.subject,content:rt.content,isPublic:rt.isPublic,attachments:rt.attachments,csTalkId:rt.csTalkId})),Jt(!0)},children:"Modify"})}),rt.writerID!==t.id&&(0,D.jsx)("div",{children:(0,D.jsx)("button",{className:"custom-flex-item custom-align-item",onClick:function(){at((0,i.Z)((0,i.Z)({},st),{},{csTalkId:rt.csTalkId})),q(!0)},children:"Answer"})})]})]}),(0,D.jsxs)("div",{className:"cstalk-right-bottom",children:[(0,D.jsx)("div",{className:"user-action custom-flex-item ",children:(0,D.jsxs)("span",{className:"cstalk-like custom-flex-item ",onClick:function(t){return function(t,e){var n=new FormData;n.append("csTalkId",e);var o={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:"/react_intranet",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"https://ddonniee.github.io/react_intranet/",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:n};(0,C.ez)("/csTalk/reaction",o).then((function(t){var e=t.data;200===e.code?(e.result,lt((0,i.Z)((0,i.Z)({},rt),{},{reactionState:"LIKE"===rt.reactionState?"NONE":"LIKE",likeCount:"LIKE"===rt.reactionState?rt.likeCount-1:rt.likeCount+1}))):console.log(e)})).catch((function(t){console.log("error",t)}))}(0,rt.csTalkId)},children:[(0,D.jsx)("img",{src:"NONE"!==rt.reactionState?k.Z:g.Z,alt:"btn_like",className:"cursor-btn"}),(0,D.jsx)("p",{children:rt.likeCount})]})}),(0,D.jsxs)("div",{className:"cstalk-comment-wrapper",children:[(0,D.jsx)("span",{children:"Comments"}),(0,D.jsxs)("span",{className:"comment-cnt-title",children:["total ",(0,D.jsx)("p",{className:"custom-stress-txt comment-cnt",children:null===rt||void 0===rt?void 0:rt.commentCount})]}),(0,D.jsxs)("div",{className:"custom-justify-between",children:[(0,D.jsxs)("div",{className:"comment-input",children:[(0,D.jsxs)("span",{children:["Writer : ",t.name]}),(0,D.jsx)("textarea",{value:Xt,onChange:function(t){return $t(t.target.value)}})]}),(0,D.jsx)("button",{onClick:function(){return se(1)},children:"Write"})]})]}),(0,D.jsxs)("div",{className:"cstalk-comment-list",children:[(0,D.jsx)("ul",{children:null===Ft||void 0===Ft?void 0:Ft.map((function(e,n){var o,s;return(0,D.jsxs)("li",{children:[(0,D.jsxs)("div",{className:"comment-top custom-flex-item custom-justify-between",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{children:e.writerName}),(0,D.jsx)("span",{children:u()(e.createdAt).format("MM.DD.YY")})]}),(0,D.jsxs)("span",{className:"custom-flex-item",children:[e.writerID===t.id&&(0,D.jsx)("p",{className:"cursor-btn comment-btn",onClick:function(){return jt(4,e.commentId)},children:"Delete"}),(0,D.jsx)("p",{className:"cursor-btn comment-btn",onClick:function(){!function(t){console.log("openCommentInput");for(var e=(0,a.Z)(Ft),n=0;n<e.length;n++)e[n].isInput=!1;e[t].isInput=!e[t].isInput,Ht(e)}(n),oe("")},children:"Answer"})]})]}),(0,D.jsxs)("div",{className:"comment-middle",children:[null===(o=e.content)||void 0===o?void 0:o.slice(0,250),(null===(s=e.content)||void 0===s?void 0:s.length)>250&&(0,D.jsx)("span",{className:"custom-stress-txt",children:"...More"})]}),(0,D.jsxs)("div",{className:e.openSubComment?"comment-bottom":"comment-bottom ",children:[0!==e.subComment.length&&(0,D.jsxs)("div",{className:"custom-flex-item cursor-btn",onClick:function(t){return function(t,e,n){var o=(0,a.Z)(Ft);o[e].openSubComment=!o[e].openSubComment,Ht(o)}(0,n,e.csTalkId)},children:[(0,D.jsx)("img",{src:P.Z,alt:"under-comment"}),(0,D.jsx)("span",{children:"Comment"}),(0,D.jsxs)("span",{className:"custom-stress-txt",children:["( ",e.subComment.length," ) "]}),(0,D.jsx)("img",{src:e.openSubComment?N.Z:A.Z,alt:"under-comment",className:"toggle-sub-btn"})]}),e.openSubComment?(0,D.jsx)("div",{children:(0,D.jsx)("ul",{className:"submment-wrapper",children:e.subComment.map((function(e,n){var o,s;return(0,D.jsxs)("li",{children:[(0,D.jsxs)("div",{className:"comment-top custom-flex-item custom-justify-between",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{children:e.writerName}),(0,D.jsx)("span",{children:u()(e.createdAt).format("YYYY-MM-DD")})]}),(0,D.jsx)("span",{className:"custom-flex-item cursor-btn",children:e.writerID===t.id&&(0,D.jsx)("p",{onClick:function(){return jt(4,e.commentId)},children:"Delete"})})]}),(0,D.jsxs)("div",{className:"comment-middle",children:[null===(o=e.content)||void 0===o?void 0:o.slice(0,250),(null===(s=e.content)||void 0===s?void 0:s.length)>250&&(0,D.jsx)("span",{className:"custom-stress-txt",children:"...More"})]})]})}))})}):null,e.isInput&&(0,D.jsx)("div",{className:"cstalk-comment-wrapper sub-comment-wrapper",children:(0,D.jsxs)("div",{className:"custom-justify-between",children:[(0,D.jsxs)("div",{className:"comment-input",children:[(0,D.jsxs)("span",{children:["Writer : ",t.name]}),(0,D.jsx)("textarea",{defaultValue:ne,onBlur:function(t){return oe(t.target.value)},id:"sub-".concat(e.commentId,"-").concat(n)})]}),(0,D.jsx)("button",{onClick:function(){return se(2,e.commentId)},children:"Write"})]})})]})]},(0,C.zs)(n))}))}),0!==Ft.length&&(0,D.jsx)(m.Z,{activePage:Bt,itemsCountPerPage:5,totalItemsCount:rt?rt.commentCount:0,pageRangeDisplayed:5,prevPageText:"\u2039",nextPageText:"\u203a",onChange:function(t){Ut(t),console.log("page ----\x3e",t)},hideFirstLastPages:!0})]})]})]})]})]}),z&&(0,D.jsx)(x.Z,{data:rt,onClose:function(){return G(!1),Yt()},onMinimizing:function(){return G(!1)}}),vt&&(0,D.jsx)(T.Z,{alertTxt:bt.alertTxt,onClose:function(){return _t(!1)},onConfirm:bt.onConfirm,twoBtn:bt.isDoubleBtn,btnTxt:bt.btnTxt})]})]}),(0,D.jsx)(_.Z,{}),(0,D.jsx)(w.Z,{})]})]})};var L=l.zo.div(o||(o=(0,s.Z)(["\n    .cstalk-left {\n        width: "," !important; \n    }\n    .cstalk-left .cstalk-custom-board li {\n        padding : ","\n    }\n\n    .board-list {\n        padding : ","\n     \n    }\n    .cstalk-contents{\n        .editor-border {\n            overflow: ","\n        }\n        .cstalk-editor {\n          overflow: auto;\n        max-height: 812px;\n        }\n    \n        .cstalk-editor::-webkit-scrollbar {\n            width: 8px;\n          }\n          \n          .cstalk-editor::-webkit-scrollbar-thumb {\n            background-color: #888;\n            border-radius: 4px;\n          }\n          \n          .cstalk-editor::-webkit-scrollbar-track {\n            background-color: #f1f1f1;\n          }  \n          \n    }\n"])),(function(t){return t.openright?"49%":"100%"}),(function(t){return t.openright?"10px 0px;":"17px 0px"}),(function(t){return t.openright,"10px 0px;"}),(function(t){return t.iswrite?"auto":"hidden !important;"}))}}]);
//# sourceMappingURL=39.11726980.chunk.js.map