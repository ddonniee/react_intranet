"use strict";(self.webpackChunkasc_portal=self.webpackChunkasc_portal||[]).push([[39],{7039:function(t,e,n){n.r(e);var o,s=n(168),a=n(3433),c=n(1413),l=n(9439),i=n(2791),r=n(9256),d=n(2426),u=n.n(d),m=n(3637),h=n(2903),x=n(8772),f=(n(1790),n(9554)),T=n(2294),p=n(9173),_=n(7162),v=n(4442),C=n(5013),E=(n(5840),n(1277)),b=n(7501),j=n(5528),P=n(4081),g=n(9985),S=n(6424),R=n(298),k=n(4507),N=n(6045),A=n(1086),Z=n(3880),D=n(8859),I=n(184);e.default=function(){var t=(0,i.useContext)(Z.S),e=u()().subtract(24,"hours").format("YYYY-MM-DD HH:mm:ss"),n=(0,i.useState)({isViewer:!1,isWriter:!1}),o=(0,l.Z)(n,2),s=o[0],r=o[1],d=(0,i.useState)(1),w=(0,l.Z)(d,2),O=w[0],B=w[1],U=(0,i.useState)(16),W=(0,l.Z)(U,1)[0],y=(0,i.useState)([{value:"",label:"All"},{value:"LGEAI",label:"LGEAI"},{value:"LGECI",label:"LGECI"},{value:"LGEES",label:"LGEES"},{value:"LGEJP",label:"LGEJP"},{value:"LGEKR",label:"LGEKR"},{value:"LGEMC",label:"LGEMC"}]),K=(0,l.Z)(y,2),F=K[0],H=(K[1],(0,i.useState)(!1)),M=(0,l.Z)(H,2),z=M[0],Y=M[1],V=(0,i.useState)(!1),G=(0,l.Z)(V,2),J=G[0],q=G[1];(0,i.useEffect)((function(){St((0,c.Z)((0,c.Z)({},gt),{},{page:O}))}),[O]);var Q=(0,i.useState)([]),X=(0,l.Z)(Q,2),$=X[0],tt=X[1],et=(0,i.useState)({title:"",content:"",isPublic:null,attachments:null,csTalkId:""}),nt=(0,l.Z)(et,2),ot=nt[0],st=nt[1],at=(0,i.useState)({attachments:"",subject:"",branch:"",center:"",commentCount:0,content:"",createdAt:"",csTalkId:"",hits:0,isPublic:null,likeCount:0,parentCsId:"",subsidiary:"",writerID:"",reactionState:"",writerName:""}),ct=(0,l.Z)(at,2),lt=ct[0],it=ct[1];(0,i.useEffect)((function(){console.log(t);t.role;r((0,c.Z)((0,c.Z)({},s),{},{isViewer:!0,isWriter:!0}))}),[lt.csTalkId]);var rt=(0,i.useState)(!1),dt=(0,l.Z)(rt,2),ut=dt[0],mt=dt[1],ht=function(t){It(!0);var e=new FormData;e.append("csTalkId",t),console.log(Object.fromEntries(e));(0,C.JI)("/cstalkDetail").then((function(t){t?console.log(t,"detail"):Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Client Error"})),It(!1)})).catch((function(t){console.log("error",t),It(!1),Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Server Error"}))}))},xt=(0,i.useState)(!1),ft=(0,l.Z)(xt,2),Tt=ft[0],pt=ft[1],_t=(0,i.useState)({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""}),vt=(0,l.Z)(_t,2),Ct=vt[0],Et=vt[1],bt=function(t,e){console.log(e,'"btn-row"'),console.log("onConfirmHandler",J),1===t||7===t?Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:" Click confirm to leave write mode.",onConfirm:function(){q(!1),Gt(!1),pt(!1),st({title:"",content:"",isPublic:null,attachments:"",csTalkId:""}),Mt(),7===t&&q(!1),1===t&&ht(e)},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:""})):2===t?Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Are you sure to oepn this post to public?",onConfirm:function(){ce(),pt(!1),Mt()},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:"You've allowed all to show this post."})):3===t?Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Are you sure to delete post?",onConfirm:function(){ae(),pt(!1),Mt(),Lt()},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:"Deleted post."})):4===t?Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Are you sure to delete comment?",onConfirm:function(){se(e),pt(!1)},isDoubleBtn:!0,btnTxt:"Confirm",confirmTxt:"Deleted comment."})):5===t?Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Any content input",onConfirm:function(){return pt(!1)},isDoubleBtn:!1,btnTxt:"Close"})):6===t&&Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Success",onConfirm:function(){pt(!1),Mt()},isDoubleBtn:!1,btnTxt:"Close"}))};(0,i.useEffect)((function(){Tt||Et({alertTxt:"",onConfirm:function(){},isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""})}),[Tt]),(0,i.useEffect)((function(){""!==Ct.alertTxt?pt(!0):pt(!1)}),[Ct]);var jt=(0,i.useState)({page:1,subsidiary:"",view:"",search:""}),Pt=(0,l.Z)(jt,2),gt=Pt[0],St=Pt[1],Rt=(0,i.useState)(0),kt=(0,l.Z)(Rt,2),Nt=kt[0],At=kt[1],Zt=(0,i.useState)(!1),Dt=(0,l.Z)(Zt,2),It=(Dt[0],Dt[1]),Lt=function(){It(!0);var t=new FormData;for(var e in gt)gt.hasOwnProperty(e)&&t.append(e,gt[e]);(0,C.JI)("/cstalkData").then((function(t){t?tt(t):(console.log(t),Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Client Error"})))})).catch((function(t){console.log("error",t),Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Server Error"}))}))},wt=(0,i.useState)(1),Ot=(0,l.Z)(wt,2),Bt=Ot[0],Ut=Ot[1],Wt=(0,i.useState)([]),yt=(0,l.Z)(Wt,2),Kt=yt[0],Ft=yt[1],Ht=function(){var t=new FormData;t.append("page",Bt),t.append("csTalkId",lt.csTalkId);var e={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3001/react_intranet",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/commentList",e).then((function(t){var e=t.data;if(200===e.code){var n=e.result;n.map((function(t){t.openSubComment=!1,t.isInput=!1})),Ft(n),console.log("comment",n)}else console.log(e)})).catch((function(t){console.log("error",t)}))},Mt=function(){Lt(),it({attachments:"",subject:"",branch:"",center:"",commentCount:0,content:"",createdAt:"",csTalkId:"",hits:0,isPublic:null,likeCount:0,parentCsId:"",subsidiary:"",writerID:"",reactionState:"",writerName:""}),q(!1),Gt(!1)},zt=(0,i.useState)(!1),Yt=(0,l.Z)(zt,2),Vt=Yt[0],Gt=Yt[1],Jt=(0,i.useState)(""),qt=(0,l.Z)(Jt,2),Qt=qt[0],Xt=qt[1],$t=(0,i.useState)(""),te=(0,l.Z)($t,2),ee=te[0],ne=te[1],oe=function(t,e){if(console.log("onAddComment",t,e),1===t&&""===Qt)return bt(5),!1;if(2===t&&""===ee)return bt(5),!1;var n=new FormData;n.append("csTalkId",lt.csTalkId),1===t&&n.append("content",Qt),2===t&&(n.append("commentId",e),n.append("content",ee));var o={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3001/react_intranet",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:n};(0,C.ez)("/csTalk/commentInsert",o).then((function(e){var n=e.data;200===n.code?1===t?Xt(""):ne(""):console.log(n,"comment list")})).catch((function(t){console.log("error",t)}))};(0,i.useEffect)((function(){lt&&""===Qt&&(Lt(),ht(lt.csTalkIdid),it((0,c.Z)((0,c.Z)({},lt),{},{commentCount:lt.commentCount+1})),Ht())}),[Qt]),(0,i.useEffect)((function(){console.log("content",ot)}),[ot]);var se=function(t){var e=new FormData;e.append("commentId",t);var n={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3001/react_intranet",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:e};(0,C.ez)("/csTalk/commentDelete",n).then((function(e){var n=e.data;200===n.code?(Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"You've deleted comment.",isDoubleBtn:!1,btnTxt:"Close"})),ht(t),Ht(),Lt()):console.log(n,"resData")})).catch((function(t){console.log("error",t)}))},ae=function(){var t=new FormData;t.append("csTalkId",lt.csTalkId),console.log(Object.fromEntries(t),"on delete post");var e={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3001/react_intranet",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/delete",e).then((function(t){var e=t.data;200===e.code?(Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"You've Deleted post.",isDoubleBtn:!1,btnTxt:"Close"})),At(Nt-1),Lt()):console.log(e)})).catch((function(t){console.log("error",t)}))},ce=function(){var t=new FormData,e=lt.csTalkId;t.append("csTalkId",e);var n={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3001/react_intranet",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/public",n).then((function(t){var n=t.data;200===n.code?(Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"You've changed open status for this post to all.",isDoubleBtn:!1,btnTxt:"Close"})),ht(e)):console.log(n)})).catch((function(t){console.log("error",t)}))};(0,i.useLayoutEffect)((function(){Lt()}),[gt.page]),(0,i.useEffect)((function(){if(0===$.length)At(0);else{var t=Nt;1===gt.page&&(t=0,console.log("ms",t),$.map((function(e){e.rn>t&&(console.log(e.rn),t=e.rn),At(t)})))}}),[$]);var le=(0,i.useState)([]),ie=(0,l.Z)(le,2),re=ie[0],de=ie[1],ue=(0,i.useState)(!1),me=(0,l.Z)(ue,2),he=me[0],xe=(me[1],(0,i.useState)(!1)),fe=(0,l.Z)(xe,2),Te=(fe[0],fe[1]);return(0,i.useEffect)((function(){var t;console.log("file",null===(t=re[0])||void 0===t?void 0:t.fileName)}),[re]),(0,i.useEffect)((function(){Ht(),Te(!0);var t=setTimeout((function(){Te(!1)}),500);return function(){return clearTimeout(t)}}),[Bt]),(0,i.useEffect)((function(){""!==lt.csTalkId||J||Vt?mt(!0):mt(!1)}),[lt.csTalkId,J,Vt]),(0,i.useEffect)((function(){console.log("selected item---\x3e",lt)}),[lt]),(0,i.useEffect)((function(){J&&it({attachments:"",subject:"",branch:"",center:"",commentCount:0,content:"",createdAt:"",csTalkId:"",hits:0,isPublic:null,likeCount:0,parentCsId:"",subsidiary:"",writerID:"",reactionState:"",writerName:""})}),[J]),(0,I.jsxs)(L,{openright:ut,iswrite:J||Vt,children:[(0,I.jsx)(h.Z,{}),(0,I.jsxs)("div",{className:"notice-container cstalk-container",children:[(0,I.jsxs)("div",{className:"inner-container",children:[(0,I.jsx)(x.Z,{searchArea:!0,auth:s.isWriter,options:F,handleChange:function(t,e){console.log("handleSelectBox",t,e);var n=t.value;St((0,c.Z)((0,c.Z)({},gt),{},{view:n}))},onChange:function(t){return St((0,c.Z)((0,c.Z)({},gt),{},{search:t.target.value}))},onClick:Lt}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"cstalk-contents ",children:[(0,I.jsxs)("div",{className:"cstalk-left",children:[(0,I.jsxs)("div",{className:"cstalk-count",children:["Total ",(0,I.jsx)("span",{className:"custom-stress-txt",children:Nt})]}),(0,I.jsxs)("div",{className:"board-menu",children:[(0,I.jsx)("span",{className:"col-1",style:null!==lt&&void 0!==lt&&lt.csTalkId?{width:"10%"}:null,children:"No."}),(0,I.jsx)("span",{className:"col-3",children:"Title"}),(0,I.jsx)("span",{className:"col-4 ".concat(ut?"custom-hide-item":""),children:"Writer"}),(0,I.jsx)("span",{className:"col-5 ".concat(ut?"custom-hide-item":""),children:"Recommand"}),(0,I.jsx)("span",{className:"col-6",style:null!==lt&&void 0!==lt&&lt.csTalkId?{width:"15%"}:null,children:"Count"}),(0,I.jsx)("span",{className:"col-7",style:null!==lt&&void 0!==lt&&lt.csTalkId?{width:"15%"}:null,children:"Date"})]}),(0,I.jsx)("div",{children:0!==$.length?$.length>0&&$.map((function(t,n){var o,s,a;return console.log(t.cstalkId),(0,I.jsxs)("div",{className:"board-list custom-flex-item custom-align-item cursor-btn ".concat(lt.cstalkId===t.cstalkId?"hover-selected":""),onClick:function(e){return function(t,e){if(console.log("handle clikc edf smflknsdklf",e),de([]),(J||Vt)&&(""!==ot.title||""!==ot.content))return bt(1,e),!1;J?q(!1):Gt(!1),it(e)}(0,t)},children:[(0,I.jsx)("ul",{className:"col-1",style:null!==lt&&void 0!==lt&&lt.cstalkId?{width:"10%"}:null,children:(0,I.jsx)("li",{id:"list-item-".concat(n+1),children:(0,I.jsx)("span",{children:String(16*(O-1)+(n+1)).padStart(3,"0")})})}),(0,I.jsx)("ul",{className:"col-3",children:(0,I.jsxs)("li",{id:"list-item-".concat(n+1),children:[(0,I.jsxs)("span",{className:"board-max-length",children:[ut?null===t||void 0===t?void 0:t.subject.slice(0,60):null===t||void 0===t?void 0:t.subject.slice(0,82),ut?(null===(s=t.subject)||void 0===s?void 0:s.length)>60&&"...":(null===(o=t.subject)||void 0===o?void 0:o.length)>82&&"..."]}),(0,I.jsx)("img",{src:u()(null===t||void 0===t?void 0:t.createdAt).format("YYYY-MM-DD HH:mm:ss")>e?E.Z:null}),0!==t.commentCount&&(0,I.jsx)("span",{className:"custom-stress-txt",children:"(".concat(t.commentCount,")")})]})}),(0,I.jsx)("ul",{className:"col-4 ".concat(ut&&"custom-hide-item"),children:(0,I.jsx)("li",{id:"list-item-".concat(n+1),children:(0,I.jsxs)("span",{children:[null===t||void 0===t||null===(a=t.writerName)||void 0===a?void 0:a.slice(0,10),(null===t||void 0===t?void 0:t.writerName.length)>=10&&"..."]})})}),(0,I.jsx)("ul",{className:"col-5 ".concat(ut&&"custom-hide-item"),children:(0,I.jsxs)("li",{id:"list-item-".concat(n+1),children:[(0,I.jsx)("img",{src:P.Z,alt:"like-img"}),(0,I.jsx)("span",{children:null===t||void 0===t?void 0:t.likeCount})]})}),(0,I.jsx)("ul",{className:"col-6",style:null!==lt&&void 0!==lt&&lt.csTalkId?{width:"15%"}:null,children:(0,I.jsx)("li",{id:"list-item-".concat(n+1),children:(0,I.jsx)("span",{children:null===t||void 0===t?void 0:t.hits})})}),(0,I.jsx)("ul",{className:"col-7",style:null!==lt&&void 0!==lt&&lt.csTalkId?{width:"15%"}:null,children:(0,I.jsx)("li",{id:"list-item-".concat(n+1),children:(0,I.jsx)("span",{children:u()(null===t||void 0===t?void 0:t.createdAt).format("MM.DD.YY")})})})]},(0,C.zs)(n))})):(0,I.jsx)("div",{className:"no-data",children:"no data"})}),$&&(0,I.jsx)(m.Z,{activePage:O,itemsCountPerPage:W,totalItemsCount:Nt,pageRangeDisplayed:5,prevPageText:"\u2039",nextPageText:"\u203a",onChange:function(t){B(t),console.log("page ----\x3e",t)},hideFirstLastPages:!0}),(0,I.jsx)("div",{className:"write-btn",onClick:function(){return J?Vt?bt(7,lt.csTalkId):J?bt(1):null:q(!0)},children:(0,I.jsx)("span",{children:"Write"})})]}),J?(0,I.jsx)("div",{className:"editor-wrapper",children:(0,I.jsx)(p.Z,{data:ot,isWriter:J,setData:st,onSave:function(){if(console.log(ot,"111111111111111111111111111111111111"),""===ot.title||""===ot.content||null===ot.isPublic)return Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Please fill out all the information.",isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""})),!1;if(J){var t=new FormData;for(var e in ot)ot.hasOwnProperty(e)&&t.append(e,ot[e]);var n={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3001/react_intranet",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/insert",n).then((function(t){200===t.data.code?(Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"You've inserted new post.",isDoubleBtn:!1,btnTxt:"Close",confirmTxt:""})),q(!1),st({title:lt.subject,content:lt.content,isPublic:lt.isPublic,attachments:lt.attachments,csTalkId:lt.csTalkId}),Lt(),Mt()):console.log(t,"else")})).catch((function(t){console.log("error",t)}))}},onClose:function(){return""!==ot.title||""!==ot.content?bt(1):(q(!1),mt(!1))},range:!0})}):J||""===lt.csTalkId||Vt?Vt?(0,I.jsx)(p.Z,{data:ot,setData:st,range:!0,onSave:function(){if(""===ot.title||""===ot.content||null===ot.isPublic)return Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"Please fill out all the information.",isDoubleBtn:!1,btnTxt:"Close"})),!1;if(Vt){console.log("content : ",ot);var t=new FormData;for(var e in ot)ot.hasOwnProperty(e)&&t.append(e,ot[e]);var n={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3001/react_intranet",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:t};(0,C.ez)("/csTalk/update",n).then((function(t){var e=t.data;200===e.code?(Et((0,c.Z)((0,c.Z)({},Ct),{},{alertTxt:"You've modified your post.",isDoubleBtn:!1,btnTxt:"Close"})),Gt(!1),st({title:lt.subject,content:lt.content,isPublic:lt.isPublic,attachments:lt.attachments,csTalkId:lt.csTalkId}),Lt(),ht(ot.csTalkId)):console.log(e,"resData")})).catch((function(t){console.log("error",t)}))}},onClose:function(){return""!==ot.title||""!==ot.content?bt(1):Gt(!1)},onDelete:function(){return bt(3)}},lt.csTalkId):null:(0,I.jsxs)("div",{className:"cstalk-right custom-flex-item ".concat(he?"loadingOpacity":""),children:[(0,I.jsxs)("div",{className:"board-view-top",children:[(0,I.jsxs)("div",{className:"board-btn-area custom-flex-item custom-align-item custom-justify-between",children:[(0,I.jsxs)("button",{className:"board-minimize-btn",onClick:function(){Y(!0)},children:[(0,I.jsx)("img",{src:A.Z,alt:"minimize-btn",className:"screen-icon"})," Full Screen"]}),(0,I.jsx)("img",{src:N.Z,alt:"close-btn",onClick:Mt})]}),(0,I.jsx)("p",{className:"board-title",children:lt.subject}),(0,I.jsxs)("p",{className:"board-title-detail",children:[(0,I.jsx)("span",{children:"Writer"})," : ",lt.writerName," \xa0",(0,I.jsx)("span",{children:"Date"})," : ",u()(lt.createdAt).format("'DD.MM.YY")]}),(0,I.jsx)("div",{className:"board-title-attach",children:(0,I.jsx)("span",{className:"custom-flex-item custom-align-item",children:(0,I.jsx)("div",{className:"custom-flex-item custom-align-item custom-flex-wrap",children:0!==re.length&&re.map((function(t,e){return(0,I.jsxs)("span",{className:"board-attach-box",onClick:function(){return(0,C.Ve)(t.uploadPath)},children:[(0,I.jsx)("img",{src:b.Z,alt:"attachment",className:"attach-icon"}),(0,I.jsx)("p",{children:"".concat(t.fileName," ").concat(null!==t&&void 0!==t&&t.fileSize?"(".concat((0,C.hy)(t.fileSize),")"):"")}),(0,I.jsxs)("span",{className:"board-attach-down",onClick:function(){return(0,C.Ve)(t.uploadPath)},children:[(0,I.jsx)("img",{src:j.Z,alt:"attachment-download"})," "]})]},(0,C.zs)(e))}))})})})]}),(0,I.jsxs)("div",{className:"board-view-middle",children:[(0,I.jsxs)("div",{className:"cstalk-right-middle",children:[(0,I.jsxs)("div",{className:"ck-viewer",children:[" ",(0,I.jsx)(f.Z,{content:lt.content})]}),(0,I.jsxs)("div",{className:"setting-viewer custom-flex-item",children:[lt.writerID===t.id&&(0,I.jsx)("div",{style:{marginRight:"auto"},children:(0,I.jsx)("button",{onClick:function(){return bt(3)},className:"custom-flex-item custom-align-item ",children:"Delete"})}),1!==lt.isPublic&&"LGEKR"===t.subsidiary&&(0,I.jsx)("div",{children:(0,I.jsx)("button",{className:"custom-flex-item custom-align-item",onClick:function(){return bt(2)},children:"Allow Views"})}),lt.writerID===t.id&&(0,I.jsx)("div",{children:(0,I.jsx)("button",{className:"custom-flex-item custom-align-item",onClick:function(){st((0,c.Z)((0,c.Z)({},ot),{},{title:lt.subject,content:lt.content,isPublic:lt.isPublic,attachments:lt.attachments,csTalkId:lt.csTalkId})),Gt(!0)},children:"Modify"})}),lt.writerID!==t.id&&(0,I.jsx)("div",{children:(0,I.jsx)("button",{className:"custom-flex-item custom-align-item",onClick:function(){st((0,c.Z)((0,c.Z)({},ot),{},{csTalkId:lt.csTalkId})),q(!0)},children:"Answer"})})]})]}),(0,I.jsxs)("div",{className:"cstalk-right-bottom",children:[(0,I.jsx)("div",{className:"user-action custom-flex-item ",children:(0,I.jsxs)("span",{className:"cstalk-like custom-flex-item ",onClick:function(t){return function(t,e){var n=new FormData;n.append("csTalkId",e);var o={method:"post",maxBodyLength:1/0,headers:{Authorization:"Bearer "+{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FRONT_URL:"http://localhost:3001/react_intranet",REACT_APP_SERVER_URL:"http://localhost:8090",REACT_APP_PUBLIC_URL:"react_intranet"}.REACT_APP_TEMP_JWT_LGEKR},data:n};(0,C.ez)("/csTalk/reaction",o).then((function(t){var e=t.data;200===e.code?(e.result,it((0,c.Z)((0,c.Z)({},lt),{},{reactionState:"LIKE"===lt.reactionState?"NONE":"LIKE",likeCount:"LIKE"===lt.reactionState?lt.likeCount-1:lt.likeCount+1}))):console.log(e)})).catch((function(t){console.log("error",t)}))}(0,lt.csTalkId)},children:[(0,I.jsx)("img",{src:"NONE"!==lt.reactionState?g.Z:P.Z,alt:"btn_like",className:"cursor-btn"}),(0,I.jsx)("p",{children:lt.likeCount})]})}),(0,I.jsxs)("div",{className:"cstalk-comment-wrapper",children:[(0,I.jsx)("span",{children:"Comments"}),(0,I.jsxs)("span",{className:"comment-cnt-title",children:["total ",(0,I.jsx)("p",{className:"custom-stress-txt comment-cnt",children:null===lt||void 0===lt?void 0:lt.commentCount})]}),(0,I.jsxs)("div",{className:"custom-justify-between",children:[(0,I.jsxs)("div",{className:"comment-input",children:[(0,I.jsxs)("span",{children:["Writer : ",t.name]}),(0,I.jsx)("textarea",{value:Qt,onChange:function(t){return Xt(t.target.value)}})]}),(0,I.jsx)("button",{onClick:function(){return oe(1)},children:"Write"})]})]}),(0,I.jsxs)("div",{className:"cstalk-comment-list",children:[(0,I.jsx)("ul",{children:null===Kt||void 0===Kt?void 0:Kt.map((function(e,n){var o,s;return(0,I.jsxs)("li",{children:[(0,I.jsxs)("div",{className:"comment-top custom-flex-item custom-justify-between",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{children:e.writerName}),(0,I.jsx)("span",{children:u()(e.createdAt).format("MM.DD.YY")})]}),(0,I.jsxs)("span",{className:"custom-flex-item",children:[e.writerID===t.id&&(0,I.jsx)("p",{className:"cursor-btn comment-btn",onClick:function(){return bt(4,e.commentId)},children:"Delete"}),(0,I.jsx)("p",{className:"cursor-btn comment-btn",onClick:function(){!function(t){console.log("openCommentInput");for(var e=(0,a.Z)(Kt),n=0;n<e.length;n++)e[n].isInput=!1;e[t].isInput=!e[t].isInput,Ft(e)}(n),ne("")},children:"Answer"})]})]}),(0,I.jsxs)("div",{className:"comment-middle",children:[null===(o=e.content)||void 0===o?void 0:o.slice(0,250),(null===(s=e.content)||void 0===s?void 0:s.length)>250&&(0,I.jsx)("span",{className:"custom-stress-txt",children:"...More"})]}),(0,I.jsxs)("div",{className:e.openSubComment?"comment-bottom":"comment-bottom ",children:[0!==e.subComment.length&&(0,I.jsxs)("div",{className:"custom-flex-item cursor-btn",onClick:function(t){return function(t,e,n){var o=(0,a.Z)(Kt);o[e].openSubComment=!o[e].openSubComment,Ft(o)}(0,n,e.csTalkId)},children:[(0,I.jsx)("img",{src:S.Z,alt:"under-comment"}),(0,I.jsx)("span",{children:"Comment"}),(0,I.jsxs)("span",{className:"custom-stress-txt",children:["( ",e.subComment.length," ) "]}),(0,I.jsx)("img",{src:e.openSubComment?k.Z:R.Z,alt:"under-comment",className:"toggle-sub-btn"})]}),e.openSubComment?(0,I.jsx)("div",{children:(0,I.jsx)("ul",{className:"submment-wrapper",children:e.subComment.map((function(e,n){var o,s;return(0,I.jsxs)("li",{children:[(0,I.jsxs)("div",{className:"comment-top custom-flex-item custom-justify-between",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{children:e.writerName}),(0,I.jsx)("span",{children:u()(e.createdAt).format("YYYY-MM-DD")})]}),(0,I.jsx)("span",{className:"custom-flex-item cursor-btn",children:e.writerID===t.id&&(0,I.jsx)("p",{onClick:function(){return bt(4,e.commentId)},children:"Delete"})})]}),(0,I.jsxs)("div",{className:"comment-middle",children:[null===(o=e.content)||void 0===o?void 0:o.slice(0,250),(null===(s=e.content)||void 0===s?void 0:s.length)>250&&(0,I.jsx)("span",{className:"custom-stress-txt",children:"...More"})]})]})}))})}):null,e.isInput&&(0,I.jsx)("div",{className:"cstalk-comment-wrapper sub-comment-wrapper",children:(0,I.jsxs)("div",{className:"custom-justify-between",children:[(0,I.jsxs)("div",{className:"comment-input",children:[(0,I.jsxs)("span",{children:["Writer : ",t.name]}),(0,I.jsx)("textarea",{defaultValue:ee,onBlur:function(t){return ne(t.target.value)},id:"sub-".concat(e.commentId,"-").concat(n)})]}),(0,I.jsx)("button",{onClick:function(){return oe(2,e.commentId)},children:"Write"})]})})]})]},(0,C.zs)(n))}))}),0!==Kt.length&&(0,I.jsx)(m.Z,{activePage:Bt,itemsCountPerPage:5,totalItemsCount:lt?lt.commentCount:0,pageRangeDisplayed:5,prevPageText:"\u2039",nextPageText:"\u203a",onChange:function(t){Ut(t),console.log("page ----\x3e",t)},hideFirstLastPages:!0})]})]})]})]})]}),z&&(0,I.jsx)(T.Z,{data:lt,onClose:function(){return Y(!1),Mt()},onMinimizing:function(){return Y(!1)}}),Tt&&(0,I.jsx)(v.Z,{alertTxt:Ct.alertTxt,onClose:function(){return pt(!1)},onConfirm:Ct.onConfirm,twoBtn:Ct.isDoubleBtn,btnTxt:Ct.btnTxt})]})]}),(0,I.jsx)(_.Z,{}),(0,I.jsx)(D.Z,{})]})]})};var L=r.zo.div(o||(o=(0,s.Z)(["\n    .cstalk-left {\n        width: "," !important; \n    }\n    .cstalk-left .cstalk-custom-board li {\n        padding : ","\n    }\n\n    .board-list {\n        padding : ","\n     \n    }\n    .cstalk-contents{\n        .editor-border {\n            overflow: ","\n        }\n        .cstalk-editor {\n          overflow: auto;\n        max-height: 812px;\n        }\n    \n        .cstalk-editor::-webkit-scrollbar {\n            width: 8px;\n          }\n          \n          .cstalk-editor::-webkit-scrollbar-thumb {\n            background-color: #888;\n            border-radius: 4px;\n          }\n          \n          .cstalk-editor::-webkit-scrollbar-track {\n            background-color: #f1f1f1;\n          }  \n          \n    }\n"])),(function(t){return t.openright?"49%":"100%"}),(function(t){return t.openright?"10px 0px;":"17px 0px"}),(function(t){return t.openright,"10px 0px;"}),(function(t){return t.iswrite?"auto":"hidden !important;"}))}}]);
//# sourceMappingURL=39.ffcdfce5.chunk.js.map